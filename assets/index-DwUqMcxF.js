(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const G={},Nt=[],He=()=>{},Fo=()=>!1,Js=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bn=t=>t.startsWith("onUpdate:"),ue=Object.assign,Hn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},No=Object.prototype.hasOwnProperty,K=(t,e)=>No.call(t,e),D=Array.isArray,Bt=t=>zs(t)==="[object Map]",di=t=>zs(t)==="[object Set]",U=t=>typeof t=="function",se=t=>typeof t=="string",lt=t=>typeof t=="symbol",te=t=>t!==null&&typeof t=="object",hi=t=>(te(t)||U(t))&&U(t.then)&&U(t.catch),pi=Object.prototype.toString,zs=t=>pi.call(t),Bo=t=>zs(t).slice(8,-1),gi=t=>zs(t)==="[object Object]",qn=t=>se(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,cs=Nn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Ho=/-(\w)/g,at=Gs(t=>t.replace(Ho,(e,s)=>s?s.toUpperCase():"")),qo=/\B([A-Z])/g,vt=Gs(t=>t.replace(qo,"-$1").toLowerCase()),_i=Gs(t=>t.charAt(0).toUpperCase()+t.slice(1)),rn=Gs(t=>t?`on${_i(t)}`:""),ot=(t,e)=>!Object.is(t,e),Ds=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},mi=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},vn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let fr;const Qs=()=>fr||(fr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vn(t){if(D(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=se(n)?Jo(n):Vn(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(se(t)||te(t))return t}const Vo=/;(?![^(]*\))/g,Wo=/:([^]+)/,Ko=/\/\*[^]*?\*\//g;function Jo(t){const e={};return t.replace(Ko,"").split(Vo).forEach(s=>{if(s){const n=s.split(Wo);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ht(t){let e="";if(se(t))e=t;else if(D(t))for(let s=0;s<t.length;s++){const n=Ht(t[s]);n&&(e+=n+" ")}else if(te(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const zo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Go=Nn(zo);function yi(t){return!!t||t===""}const bi=t=>!!(t&&t.__v_isRef===!0),oe=t=>se(t)?t:t==null?"":D(t)||te(t)&&(t.toString===pi||!U(t.toString))?bi(t)?oe(t.value):JSON.stringify(t,wi,2):String(t),wi=(t,e)=>bi(e)?wi(t,e.value):Bt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[on(n,i)+" =>"]=r,s),{})}:di(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>on(s))}:lt(e)?on(e):te(e)&&!D(e)&&!gi(e)?String(e):e,on=(t,e="")=>{var s;return lt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ve;class vi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!e&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ve;try{return ve=this,e()}finally{ve=s}}}on(){ve=this}off(){ve=this.parent}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Qo(t){return new vi(t)}function Yo(){return ve}let Z;const an=new WeakSet;class Si{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,an.has(this)&&(an.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ei(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dr(this),ki(this);const e=Z,s=je;Z=this,je=!0;try{return this.fn()}finally{Oi(this),Z=e,je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jn(e);this.deps=this.depsTail=void 0,dr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?an.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sn(this)&&this.run()}get dirty(){return Sn(this)}}let Ti=0,us,fs;function Ei(t,e=!1){if(t.flags|=8,e){t.next=fs,fs=t;return}t.next=us,us=t}function Wn(){Ti++}function Kn(){if(--Ti>0)return;if(fs){let e=fs;for(fs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;us;){let e=us;for(us=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function ki(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Oi(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Jn(n),Xo(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Sn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function xi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ms))return;t.globalVersion=ms;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Sn(t)){t.flags&=-3;return}const s=Z,n=je;Z=t,je=!0;try{ki(t);const r=t.fn(t._value);(e.version===0||ot(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Z=s,je=n,Oi(t),t.flags&=-3}}function Jn(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Jn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Xo(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let je=!0;const Pi=[];function ct(){Pi.push(je),je=!1}function ut(){const t=Pi.pop();je=t===void 0?!0:t}function dr(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Z;Z=void 0;try{e()}finally{Z=s}}}let ms=0;class Zo{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Z||!je||Z===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Z)s=this.activeLink=new Zo(Z,this),Z.deps?(s.prevDep=Z.depsTail,Z.depsTail.nextDep=s,Z.depsTail=s):Z.deps=Z.depsTail=s,Ci(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Z.depsTail,s.nextDep=void 0,Z.depsTail.nextDep=s,Z.depsTail=s,Z.deps===s&&(Z.deps=n)}return s}trigger(e){this.version++,ms++,this.notify(e)}notify(e){Wn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Kn()}}}function Ci(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Ci(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Tn=new WeakMap,yt=Symbol(""),En=Symbol(""),ys=Symbol("");function ae(t,e,s){if(je&&Z){let n=Tn.get(t);n||Tn.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new zn),r.map=n,r.key=s),r.track()}}function Qe(t,e,s,n,r,i){const o=Tn.get(t);if(!o){ms++;return}const a=l=>{l&&l.trigger()};if(Wn(),e==="clear")o.forEach(a);else{const l=D(t),u=l&&qn(s);if(l&&s==="length"){const c=Number(n);o.forEach((d,p)=>{(p==="length"||p===ys||!lt(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ys)),e){case"add":l?u&&a(o.get("length")):(a(o.get(yt)),Bt(t)&&a(o.get(En)));break;case"delete":l||(a(o.get(yt)),Bt(t)&&a(o.get(En)));break;case"set":Bt(t)&&a(o.get(yt));break}}Kn()}function Pt(t){const e=W(t);return e===t?e:(ae(e,"iterate",ys),Oe(t)?e:e.map(le))}function Ys(t){return ae(t=W(t),"iterate",ys),t}const ea={__proto__:null,[Symbol.iterator](){return ln(this,Symbol.iterator,le)},concat(...t){return Pt(this).concat(...t.map(e=>D(e)?Pt(e):e))},entries(){return ln(this,"entries",t=>(t[1]=le(t[1]),t))},every(t,e){return Je(this,"every",t,e,void 0,arguments)},filter(t,e){return Je(this,"filter",t,e,s=>s.map(le),arguments)},find(t,e){return Je(this,"find",t,e,le,arguments)},findIndex(t,e){return Je(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Je(this,"findLast",t,e,le,arguments)},findLastIndex(t,e){return Je(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Je(this,"forEach",t,e,void 0,arguments)},includes(...t){return cn(this,"includes",t)},indexOf(...t){return cn(this,"indexOf",t)},join(t){return Pt(this).join(t)},lastIndexOf(...t){return cn(this,"lastIndexOf",t)},map(t,e){return Je(this,"map",t,e,void 0,arguments)},pop(){return ts(this,"pop")},push(...t){return ts(this,"push",t)},reduce(t,...e){return hr(this,"reduce",t,e)},reduceRight(t,...e){return hr(this,"reduceRight",t,e)},shift(){return ts(this,"shift")},some(t,e){return Je(this,"some",t,e,void 0,arguments)},splice(...t){return ts(this,"splice",t)},toReversed(){return Pt(this).toReversed()},toSorted(t){return Pt(this).toSorted(t)},toSpliced(...t){return Pt(this).toSpliced(...t)},unshift(...t){return ts(this,"unshift",t)},values(){return ln(this,"values",le)}};function ln(t,e,s){const n=Ys(t),r=n[e]();return n!==t&&!Oe(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const ta=Array.prototype;function Je(t,e,s,n,r,i){const o=Ys(t),a=o!==t&&!Oe(t),l=o[e];if(l!==ta[e]){const d=l.apply(t,i);return a?le(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,le(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function hr(t,e,s,n){const r=Ys(t);let i=s;return r!==t&&(Oe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,le(a),l,t)}),r[e](i,...n)}function cn(t,e,s){const n=W(t);ae(n,"iterate",ys);const r=n[e](...s);return(r===-1||r===!1)&&Xn(s[0])?(s[0]=W(s[0]),n[e](...s)):r}function ts(t,e,s=[]){ct(),Wn();const n=W(t)[e].apply(t,s);return Kn(),ut(),n}const sa=Nn("__proto__,__v_isRef,__isVue"),Ai=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lt));function na(t){lt(t)||(t=String(t));const e=W(this);return ae(e,"has",t),e.hasOwnProperty(t)}class ji{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?ha:Li:i?Ii:$i).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=D(e);if(!r){let l;if(o&&(l=ea[s]))return l;if(s==="hasOwnProperty")return na}const a=Reflect.get(e,s,ce(e)?e:n);return(lt(s)?Ai.has(s):sa(s))||(r||ae(e,"get",s),i)?a:ce(a)?o&&qn(s)?a:a.value:te(a)?r?Di(a):Qn(a):a}}class Ri extends ji{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=bt(i);if(!Oe(n)&&!bt(n)&&(i=W(i),n=W(n)),!D(e)&&ce(i)&&!ce(n))return l?!1:(i.value=n,!0)}const o=D(e)&&qn(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,n,ce(e)?e:r);return e===W(r)&&(o?ot(n,i)&&Qe(e,"set",s,n):Qe(e,"add",s,n)),a}deleteProperty(e,s){const n=K(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Qe(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!lt(s)||!Ai.has(s))&&ae(e,"has",s),n}ownKeys(e){return ae(e,"iterate",D(e)?"length":yt),Reflect.ownKeys(e)}}class ra extends ji{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ia=new Ri,oa=new ra,aa=new Ri(!0);const kn=t=>t,xs=t=>Reflect.getPrototypeOf(t);function la(t,e,s){return function(...n){const r=this.__v_raw,i=W(r),o=Bt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?kn:e?On:le;return!e&&ae(i,"iterate",l?En:yt),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Ps(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ca(t,e){const s={get(r){const i=this.__v_raw,o=W(i),a=W(r);t||(ot(r,a)&&ae(o,"get",r),ae(o,"get",a));const{has:l}=xs(o),u=e?kn:t?On:le;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&ae(W(r),"iterate",yt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=W(i),a=W(r);return t||(ot(r,a)&&ae(o,"has",r),ae(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=W(a),u=e?kn:t?On:le;return!t&&ae(l,"iterate",yt),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return ue(s,t?{add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear")}:{add(r){!e&&!Oe(r)&&!bt(r)&&(r=W(r));const i=W(this);return xs(i).has.call(i,r)||(i.add(r),Qe(i,"add",r,r)),this},set(r,i){!e&&!Oe(i)&&!bt(i)&&(i=W(i));const o=W(this),{has:a,get:l}=xs(o);let u=a.call(o,r);u||(r=W(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?ot(i,c)&&Qe(o,"set",r,i):Qe(o,"add",r,i),this},delete(r){const i=W(this),{has:o,get:a}=xs(i);let l=o.call(i,r);l||(r=W(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&Qe(i,"delete",r,void 0),u},clear(){const r=W(this),i=r.size!==0,o=r.clear();return i&&Qe(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=la(r,t,e)}),s}function Gn(t,e){const s=ca(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(K(s,r)&&r in n?s:n,r,i)}const ua={get:Gn(!1,!1)},fa={get:Gn(!1,!0)},da={get:Gn(!0,!1)};const $i=new WeakMap,Ii=new WeakMap,Li=new WeakMap,ha=new WeakMap;function pa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ga(t){return t.__v_skip||!Object.isExtensible(t)?0:pa(Bo(t))}function Qn(t){return bt(t)?t:Yn(t,!1,ia,ua,$i)}function _a(t){return Yn(t,!1,aa,fa,Ii)}function Di(t){return Yn(t,!0,oa,da,Li)}function Yn(t,e,s,n,r){if(!te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ga(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function qt(t){return bt(t)?qt(t.__v_raw):!!(t&&t.__v_isReactive)}function bt(t){return!!(t&&t.__v_isReadonly)}function Oe(t){return!!(t&&t.__v_isShallow)}function Xn(t){return t?!!t.__v_raw:!1}function W(t){const e=t&&t.__v_raw;return e?W(e):t}function Ui(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&mi(t,"__v_skip",!0),t}const le=t=>te(t)?Qn(t):t,On=t=>te(t)?Di(t):t;function ce(t){return t?t.__v_isRef===!0:!1}function Ce(t){return ma(t,!1)}function ma(t,e){return ce(t)?t:new ya(t,e)}class ya{constructor(e,s){this.dep=new zn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:W(e),this._value=s?e:le(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Oe(e)||bt(e);e=n?e:W(e),ot(e,s)&&(this._rawValue=e,this._value=n?e:le(e),this.dep.trigger())}}function ba(t){return ce(t)?t.value:t}const wa={get:(t,e,s)=>e==="__v_raw"?t:ba(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return ce(r)&&!ce(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Mi(t){return qt(t)?t:new Proxy(t,wa)}class va{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new zn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Z!==this)return Ei(this,!0),!0}get value(){const e=this.dep.track();return xi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Sa(t,e,s=!1){let n,r;return U(t)?n=t:(n=t.get,r=t.set),new va(n,r,s)}const Cs={},Ns=new WeakMap;let gt;function Ta(t,e=!1,s=gt){if(s){let n=Ns.get(s);n||Ns.set(s,n=[]),n.push(t)}}function Ea(t,e,s=G){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>r?x:Oe(x)||r===!1||r===0?Ye(x,1):Ye(x);let c,d,p,g,v=!1,O=!1;if(ce(t)?(d=()=>t.value,v=Oe(t)):qt(t)?(d=()=>u(t),v=!0):D(t)?(O=!0,v=t.some(x=>qt(x)||Oe(x)),d=()=>t.map(x=>{if(ce(x))return x.value;if(qt(x))return u(x);if(U(x))return l?l(x,2):x()})):U(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){ct();try{p()}finally{ut()}}const x=gt;gt=c;try{return l?l(t,3,[g]):t(g)}finally{gt=x}}:d=He,e&&r){const x=d,B=r===!0?1/0:r;d=()=>Ye(x(),B)}const C=Yo(),I=()=>{c.stop(),C&&C.active&&Hn(C.effects,c)};if(i&&e){const x=e;e=(...B)=>{x(...B),I()}}let H=O?new Array(t.length).fill(Cs):Cs;const M=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const B=c.run();if(r||v||(O?B.some((Re,Te)=>ot(Re,H[Te])):ot(B,H))){p&&p();const Re=gt;gt=c;try{const Te=[B,H===Cs?void 0:O&&H[0]===Cs?[]:H,g];l?l(e,3,Te):e(...Te),H=B}finally{gt=Re}}}else c.run()};return a&&a(M),c=new Si(d),c.scheduler=o?()=>o(M,!1):M,g=x=>Ta(x,!1,c),p=c.onStop=()=>{const x=Ns.get(c);if(x){if(l)l(x,4);else for(const B of x)B();Ns.delete(c)}},e?n?M(!0):H=c.run():o?o(M.bind(null,!0),!0):c.run(),I.pause=c.pause.bind(c),I.resume=c.resume.bind(c),I.stop=I,I}function Ye(t,e=1/0,s){if(e<=0||!te(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ce(t))Ye(t.value,e,s);else if(D(t))for(let n=0;n<t.length;n++)Ye(t[n],e,s);else if(di(t)||Bt(t))t.forEach(n=>{Ye(n,e,s)});else if(gi(t)){for(const n in t)Ye(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ye(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ts(t,e,s,n){try{return n?t(...n):t()}catch(r){Xs(r,e,s)}}function qe(t,e,s,n){if(U(t)){const r=Ts(t,e,s,n);return r&&hi(r)&&r.catch(i=>{Xs(i,e,s)}),r}if(D(t)){const r=[];for(let i=0;i<t.length;i++)r.push(qe(t[i],e,s,n));return r}}function Xs(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||G;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){ct(),Ts(i,null,10,[t,l,u]),ut();return}}ka(t,s,r,n,o)}function ka(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const de=[];let Ne=-1;const Vt=[];let st=null,Ut=0;const Fi=Promise.resolve();let Bs=null;function Oa(t){const e=Bs||Fi;return t?e.then(this?t.bind(this):t):e}function xa(t){let e=Ne+1,s=de.length;for(;e<s;){const n=e+s>>>1,r=de[n],i=bs(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Zn(t){if(!(t.flags&1)){const e=bs(t),s=de[de.length-1];!s||!(t.flags&2)&&e>=bs(s)?de.push(t):de.splice(xa(e),0,t),t.flags|=1,Ni()}}function Ni(){Bs||(Bs=Fi.then(Hi))}function Pa(t){D(t)?Vt.push(...t):st&&t.id===-1?st.splice(Ut+1,0,t):t.flags&1||(Vt.push(t),t.flags|=1),Ni()}function pr(t,e,s=Ne+1){for(;s<de.length;s++){const n=de[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;de.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Bi(t){if(Vt.length){const e=[...new Set(Vt)].sort((s,n)=>bs(s)-bs(n));if(Vt.length=0,st){st.push(...e);return}for(st=e,Ut=0;Ut<st.length;Ut++){const s=st[Ut];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}st=null,Ut=0}}const bs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Hi(t){try{for(Ne=0;Ne<de.length;Ne++){const e=de[Ne];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ts(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ne<de.length;Ne++){const e=de[Ne];e&&(e.flags&=-2)}Ne=-1,de.length=0,Bi(),Bs=null,(de.length||Vt.length)&&Hi()}}let ke=null,qi=null;function Hs(t){const e=ke;return ke=t,qi=t&&t.type.__scopeId||null,e}function Ca(t,e=ke,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Tr(-1);const i=Hs(e);let o;try{o=t(...r)}finally{Hs(i),n._d&&Tr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Aa(t,e){if(ke===null)return t;const s=sn(ke),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=G]=e[r];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&Ye(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ct(),qe(l,s,8,[t.el,a,t,e]),ut())}}const ja=Symbol("_vte"),Ra=t=>t.__isTeleport;function er(t,e){t.shapeFlag&6&&t.component?(t.transition=e,er(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function $a(t,e){return U(t)?ue({name:t.name},e,{setup:t}):t}function Vi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function qs(t,e,s,n,r=!1){if(D(t)){t.forEach((v,O)=>qs(v,e&&(D(e)?e[O]:e),s,n,r));return}if(ds(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&qs(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?sn(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===G?a.refs={}:a.refs,d=a.setupState,p=W(d),g=d===G?()=>!1:v=>K(p,v);if(u!=null&&u!==l&&(se(u)?(c[u]=null,g(u)&&(d[u]=null)):ce(u)&&(u.value=null)),U(l))Ts(l,a,12,[o,c]);else{const v=se(l),O=ce(l);if(v||O){const C=()=>{if(t.f){const I=v?g(l)?d[l]:c[l]:l.value;r?D(I)&&Hn(I,i):D(I)?I.includes(i)||I.push(i):v?(c[l]=[i],g(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else v?(c[l]=o,g(l)&&(d[l]=o)):O&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,be(C,s)):C()}}}Qs().requestIdleCallback;Qs().cancelIdleCallback;const ds=t=>!!t.type.__asyncLoader,Wi=t=>t.type.__isKeepAlive;function Ia(t,e){Ki(t,"a",e)}function La(t,e){Ki(t,"da",e)}function Ki(t,e,s=he){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Zs(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Wi(r.parent.vnode)&&Da(n,e,s,r),r=r.parent}}function Da(t,e,s,n){const r=Zs(e,t,n,!0);zi(()=>{Hn(n[e],r)},s)}function Zs(t,e,s=he,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ct();const a=Es(s),l=qe(e,s,t,o);return a(),ut(),l});return n?r.unshift(i):r.push(i),i}}const Ze=t=>(e,s=he)=>{(!vs||t==="sp")&&Zs(t,(...n)=>e(...n),s)},Ua=Ze("bm"),Ji=Ze("m"),Ma=Ze("bu"),Fa=Ze("u"),Na=Ze("bum"),zi=Ze("um"),Ba=Ze("sp"),Ha=Ze("rtg"),qa=Ze("rtc");function Va(t,e=he){Zs("ec",t,e)}const Wa=Symbol.for("v-ndc");function ss(t,e,s,n){let r;const i=s,o=D(t);if(o||se(t)){const a=o&&qt(t);let l=!1;a&&(l=!Oe(t),t=Ys(t)),r=new Array(t.length);for(let u=0,c=t.length;u<c;u++)r[u]=e(l?le(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(te(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const xn=t=>t?mo(t)?sn(t):xn(t.parent):null,hs=ue(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xn(t.parent),$root:t=>xn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Qi(t),$forceUpdate:t=>t.f||(t.f=()=>{Zn(t.update)}),$nextTick:t=>t.n||(t.n=Oa.bind(t.proxy)),$watch:t=>hl.bind(t)}),un=(t,e)=>t!==G&&!t.__isScriptSetup&&K(t,e),Ka={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(un(n,e))return o[e]=1,n[e];if(r!==G&&K(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==G&&K(s,e))return o[e]=4,s[e];Pn&&(o[e]=0)}}const c=hs[e];let d,p;if(c)return e==="$attrs"&&ae(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==G&&K(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,K(p,e))return p[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return un(r,e)?(r[e]=s,!0):n!==G&&K(n,e)?(n[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==G&&K(t,o)||un(e,o)||(a=i[0])&&K(a,o)||K(n,o)||K(hs,o)||K(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function gr(t){return D(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pn=!0;function Ja(t){const e=Qi(t),s=t.proxy,n=t.ctx;Pn=!1,e.beforeCreate&&_r(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:g,updated:v,activated:O,deactivated:C,beforeDestroy:I,beforeUnmount:H,destroyed:M,unmounted:x,render:B,renderTracked:Re,renderTriggered:Te,errorCaptured:xe,serverPrefetch:Et,expose:$e,inheritAttrs:ft,components:kt,directives:Ot,filters:Yt}=e;if(u&&za(u,n,null),o)for(const Q in o){const z=o[Q];U(z)&&(n[Q]=z.bind(s))}if(r){const Q=r.call(s,s);te(Q)&&(t.data=Qn(Q))}if(Pn=!0,i)for(const Q in i){const z=i[Q],Ve=U(z)?z.bind(s,s):U(z.get)?z.get.bind(s,s):He,xt=!U(z)&&U(z.set)?z.set.bind(s):He,We=Mt({get:Ve,set:xt});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>We.value,set:P=>We.value=P})}if(a)for(const Q in a)Gi(a[Q],n,s,Q);if(l){const Q=U(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(z=>{el(z,Q[z])})}c&&_r(c,t,"c");function ne(Q,z){D(z)?z.forEach(Ve=>Q(Ve.bind(s))):z&&Q(z.bind(s))}if(ne(Ua,d),ne(Ji,p),ne(Ma,g),ne(Fa,v),ne(Ia,O),ne(La,C),ne(Va,xe),ne(qa,Re),ne(Ha,Te),ne(Na,H),ne(zi,x),ne(Ba,Et),D($e))if($e.length){const Q=t.exposed||(t.exposed={});$e.forEach(z=>{Object.defineProperty(Q,z,{get:()=>s[z],set:Ve=>s[z]=Ve})})}else t.exposed||(t.exposed={});B&&t.render===He&&(t.render=B),ft!=null&&(t.inheritAttrs=ft),kt&&(t.components=kt),Ot&&(t.directives=Ot),Et&&Vi(t)}function za(t,e,s=He){D(t)&&(t=Cn(t));for(const n in t){const r=t[n];let i;te(r)?"default"in r?i=Us(r.from||n,r.default,!0):i=Us(r.from||n):i=Us(r),ce(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function _r(t,e,s){qe(D(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Gi(t,e,s,n){let r=n.includes(".")?uo(s,n):()=>s[n];if(se(t)){const i=e[t];U(i)&&dn(r,i)}else if(U(t))dn(r,t.bind(s));else if(te(t))if(D(t))t.forEach(i=>Gi(i,e,s,n));else{const i=U(t.handler)?t.handler.bind(s):e[t.handler];U(i)&&dn(r,i,t)}}function Qi(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Vs(l,u,o,!0)),Vs(l,e,o)),te(e)&&i.set(e,l),l}function Vs(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Vs(t,i,s,!0),r&&r.forEach(o=>Vs(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=Ga[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ga={data:mr,props:yr,emits:yr,methods:as,computed:as,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:as,directives:as,watch:Ya,provide:mr,inject:Qa};function mr(t,e){return e?t?function(){return ue(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function Qa(t,e){return as(Cn(t),Cn(e))}function Cn(t){if(D(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function fe(t,e){return t?[...new Set([].concat(t,e))]:e}function as(t,e){return t?ue(Object.create(null),t,e):e}function yr(t,e){return t?D(t)&&D(e)?[...new Set([...t,...e])]:ue(Object.create(null),gr(t),gr(e??{})):e}function Ya(t,e){if(!t)return e;if(!e)return t;const s=ue(Object.create(null),t);for(const n in e)s[n]=fe(t[n],e[n]);return s}function Yi(){return{app:null,config:{isNativeTag:Fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xa=0;function Za(t,e){return function(n,r=null){U(n)||(n=ue({},n)),r!=null&&!te(r)&&(r=null);const i=Yi(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Xa++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Ll,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...d)):U(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const g=u._ceVNode||Xe(n,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,sn(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(qe(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Wt;Wt=u;try{return c()}finally{Wt=d}}};return u}}let Wt=null;function el(t,e){if(he){let s=he.provides;const n=he.parent&&he.parent.provides;n===s&&(s=he.provides=Object.create(n)),s[t]=e}}function Us(t,e,s=!1){const n=he||ke;if(n||Wt){const r=Wt?Wt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&U(e)?e.call(n&&n.proxy):e}}const Xi={},Zi=()=>Object.create(Xi),eo=t=>Object.getPrototypeOf(t)===Xi;function tl(t,e,s,n=!1){const r={},i=Zi();t.propsDefaults=Object.create(null),to(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:_a(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function sl(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=W(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(en(t.emitsOptions,p))continue;const g=e[p];if(l)if(K(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const v=at(p);r[v]=An(l,a,v,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{to(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!K(e,d)&&((c=vt(d))===d||!K(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(r[d]=An(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!K(e,d))&&(delete i[d],u=!0)}u&&Qe(t.attrs,"set","")}function to(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(cs(l))continue;const u=e[l];let c;r&&K(r,c=at(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:en(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=W(s),u=a||G;for(let c=0;c<i.length;c++){const d=i[c];s[d]=An(r,l,d,u[d],t,!K(u,d))}}return o}function An(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Es(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===vt(s))&&(n=!0))}return n}const nl=new WeakMap;function so(t,e,s=!1){const n=s?nl:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=d=>{l=!0;const[p,g]=so(d,e,!0);ue(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return te(t)&&n.set(t,Nt),Nt;if(D(i))for(let c=0;c<i.length;c++){const d=at(i[c]);br(d)&&(o[d]=G)}else if(i)for(const c in i){const d=at(c);if(br(d)){const p=i[c],g=o[d]=D(p)||U(p)?{type:p}:ue({},p),v=g.type;let O=!1,C=!0;if(D(v))for(let I=0;I<v.length;++I){const H=v[I],M=U(H)&&H.name;if(M==="Boolean"){O=!0;break}else M==="String"&&(C=!1)}else O=U(v)&&v.name==="Boolean";g[0]=O,g[1]=C,(O||K(g,"default"))&&a.push(d)}}const u=[o,a];return te(t)&&n.set(t,u),u}function br(t){return t[0]!=="$"&&!cs(t)}const no=t=>t[0]==="_"||t==="$stable",tr=t=>D(t)?t.map(Be):[Be(t)],rl=(t,e,s)=>{if(e._n)return e;const n=Ca((...r)=>tr(e(...r)),s);return n._c=!1,n},ro=(t,e,s)=>{const n=t._ctx;for(const r in t){if(no(r))continue;const i=t[r];if(U(i))e[r]=rl(r,i,n);else if(i!=null){const o=tr(i);e[r]=()=>o}}},io=(t,e)=>{const s=tr(e);t.slots.default=()=>s},oo=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},il=(t,e,s)=>{const n=t.slots=Zi();if(t.vnode.shapeFlag&32){const r=e._;r?(oo(n,e,s),s&&mi(n,"_",r,!0)):ro(e,n)}else e&&io(t,e)},ol=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=G;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:oo(r,e,s):(i=!e.$stable,ro(e,r)),o=e}else e&&(io(t,e),o={default:1});if(i)for(const a in r)!no(a)&&o[a]==null&&delete r[a]},be=wl;function al(t){return ll(t)}function ll(t,e){const s=Qs();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:g=He,insertStaticContent:v}=t,O=(f,h,_,b=null,m=null,y=null,E=void 0,T=null,S=!!h.dynamicChildren)=>{if(f===h)return;f&&!ns(f,h)&&(b=Ke(f),P(f,m,y,!0),f=null),h.patchFlag===-2&&(S=!1,h.dynamicChildren=null);const{type:w,ref:R,shapeFlag:k}=h;switch(w){case tn:C(f,h,_,b);break;case wt:I(f,h,_,b);break;case hn:f==null&&H(h,_,b,E);break;case _e:kt(f,h,_,b,m,y,E,T,S);break;default:k&1?B(f,h,_,b,m,y,E,T,S):k&6?Ot(f,h,_,b,m,y,E,T,S):(k&64||k&128)&&w.process(f,h,_,b,m,y,E,T,S,Zt)}R!=null&&m&&qs(R,f&&f.ref,y,h||f,!h)},C=(f,h,_,b)=>{if(f==null)n(h.el=a(h.children),_,b);else{const m=h.el=f.el;h.children!==f.children&&u(m,h.children)}},I=(f,h,_,b)=>{f==null?n(h.el=l(h.children||""),_,b):h.el=f.el},H=(f,h,_,b)=>{[f.el,f.anchor]=v(f.children,h,_,b,f.el,f.anchor)},M=({el:f,anchor:h},_,b)=>{let m;for(;f&&f!==h;)m=p(f),n(f,_,b),f=m;n(h,_,b)},x=({el:f,anchor:h})=>{let _;for(;f&&f!==h;)_=p(f),r(f),f=_;r(h)},B=(f,h,_,b,m,y,E,T,S)=>{h.type==="svg"?E="svg":h.type==="math"&&(E="mathml"),f==null?Re(h,_,b,m,y,E,T,S):Et(f,h,m,y,E,T,S)},Re=(f,h,_,b,m,y,E,T)=>{let S,w;const{props:R,shapeFlag:k,transition:A,dirs:L}=f;if(S=f.el=o(f.type,y,R&&R.is,R),k&8?c(S,f.children):k&16&&xe(f.children,S,null,b,m,fn(f,y),E,T),L&&dt(f,null,b,"created"),Te(S,f,f.scopeId,E,b),R){for(const Y in R)Y!=="value"&&!cs(Y)&&i(S,Y,null,R[Y],y,b);"value"in R&&i(S,"value",null,R.value,y),(w=R.onVnodeBeforeMount)&&Me(w,b,f)}L&&dt(f,null,b,"beforeMount");const V=cl(m,A);V&&A.beforeEnter(S),n(S,h,_),((w=R&&R.onVnodeMounted)||V||L)&&be(()=>{w&&Me(w,b,f),V&&A.enter(S),L&&dt(f,null,b,"mounted")},m)},Te=(f,h,_,b,m)=>{if(_&&g(f,_),b)for(let y=0;y<b.length;y++)g(f,b[y]);if(m){let y=m.subTree;if(h===y||ho(y.type)&&(y.ssContent===h||y.ssFallback===h)){const E=m.vnode;Te(f,E,E.scopeId,E.slotScopeIds,m.parent)}}},xe=(f,h,_,b,m,y,E,T,S=0)=>{for(let w=S;w<f.length;w++){const R=f[w]=T?nt(f[w]):Be(f[w]);O(null,R,h,_,b,m,y,E,T)}},Et=(f,h,_,b,m,y,E)=>{const T=h.el=f.el;let{patchFlag:S,dynamicChildren:w,dirs:R}=h;S|=f.patchFlag&16;const k=f.props||G,A=h.props||G;let L;if(_&&ht(_,!1),(L=A.onVnodeBeforeUpdate)&&Me(L,_,h,f),R&&dt(h,f,_,"beforeUpdate"),_&&ht(_,!0),(k.innerHTML&&A.innerHTML==null||k.textContent&&A.textContent==null)&&c(T,""),w?$e(f.dynamicChildren,w,T,_,b,fn(h,m),y):E||z(f,h,T,null,_,b,fn(h,m),y,!1),S>0){if(S&16)ft(T,k,A,_,m);else if(S&2&&k.class!==A.class&&i(T,"class",null,A.class,m),S&4&&i(T,"style",k.style,A.style,m),S&8){const V=h.dynamicProps;for(let Y=0;Y<V.length;Y++){const J=V[Y],me=k[J],pe=A[J];(pe!==me||J==="value")&&i(T,J,me,pe,m,_)}}S&1&&f.children!==h.children&&c(T,h.children)}else!E&&w==null&&ft(T,k,A,_,m);((L=A.onVnodeUpdated)||R)&&be(()=>{L&&Me(L,_,h,f),R&&dt(h,f,_,"updated")},b)},$e=(f,h,_,b,m,y,E)=>{for(let T=0;T<h.length;T++){const S=f[T],w=h[T],R=S.el&&(S.type===_e||!ns(S,w)||S.shapeFlag&70)?d(S.el):_;O(S,w,R,null,b,m,y,E,!0)}},ft=(f,h,_,b,m)=>{if(h!==_){if(h!==G)for(const y in h)!cs(y)&&!(y in _)&&i(f,y,h[y],null,m,b);for(const y in _){if(cs(y))continue;const E=_[y],T=h[y];E!==T&&y!=="value"&&i(f,y,T,E,m,b)}"value"in _&&i(f,"value",h.value,_.value,m)}},kt=(f,h,_,b,m,y,E,T,S)=>{const w=h.el=f?f.el:a(""),R=h.anchor=f?f.anchor:a("");let{patchFlag:k,dynamicChildren:A,slotScopeIds:L}=h;L&&(T=T?T.concat(L):L),f==null?(n(w,_,b),n(R,_,b),xe(h.children||[],_,R,m,y,E,T,S)):k>0&&k&64&&A&&f.dynamicChildren?($e(f.dynamicChildren,A,_,m,y,E,T),(h.key!=null||m&&h===m.subTree)&&ao(f,h,!0)):z(f,h,_,R,m,y,E,T,S)},Ot=(f,h,_,b,m,y,E,T,S)=>{h.slotScopeIds=T,f==null?h.shapeFlag&512?m.ctx.activate(h,_,b,E,S):Yt(h,_,b,m,y,E,S):Os(f,h,S)},Yt=(f,h,_,b,m,y,E)=>{const T=f.component=Cl(f,b,m);if(Wi(f)&&(T.ctx.renderer=Zt),Al(T,!1,E),T.asyncDep){if(m&&m.registerDep(T,ne,E),!f.el){const S=T.subTree=Xe(wt);I(null,S,h,_)}}else ne(T,f,h,_,m,y,E)},Os=(f,h,_)=>{const b=h.component=f.component;if(yl(f,h,_))if(b.asyncDep&&!b.asyncResolved){Q(b,h,_);return}else b.next=h,b.update();else h.el=f.el,b.vnode=h},ne=(f,h,_,b,m,y,E)=>{const T=()=>{if(f.isMounted){let{next:k,bu:A,u:L,parent:V,vnode:Y}=f;{const De=lo(f);if(De){k&&(k.el=Y.el,Q(f,k,E)),De.asyncDep.then(()=>{f.isUnmounted||T()});return}}let J=k,me;ht(f,!1),k?(k.el=Y.el,Q(f,k,E)):k=Y,A&&Ds(A),(me=k.props&&k.props.onVnodeBeforeUpdate)&&Me(me,V,k,Y),ht(f,!0);const pe=vr(f),Le=f.subTree;f.subTree=pe,O(Le,pe,d(Le.el),Ke(Le),f,m,y),k.el=pe.el,J===null&&bl(f,pe.el),L&&be(L,m),(me=k.props&&k.props.onVnodeUpdated)&&be(()=>Me(me,V,k,Y),m)}else{let k;const{el:A,props:L}=h,{bm:V,m:Y,parent:J,root:me,type:pe}=f,Le=ds(h);ht(f,!1),V&&Ds(V),!Le&&(k=L&&L.onVnodeBeforeMount)&&Me(k,J,h),ht(f,!0);{me.ce&&me.ce._injectChildStyle(pe);const De=f.subTree=vr(f);O(null,De,_,b,f,m,y),h.el=De.el}if(Y&&be(Y,m),!Le&&(k=L&&L.onVnodeMounted)){const De=h;be(()=>Me(k,J,De),m)}(h.shapeFlag&256||J&&ds(J.vnode)&&J.vnode.shapeFlag&256)&&f.a&&be(f.a,m),f.isMounted=!0,h=_=b=null}};f.scope.on();const S=f.effect=new Si(T);f.scope.off();const w=f.update=S.run.bind(S),R=f.job=S.runIfDirty.bind(S);R.i=f,R.id=f.uid,S.scheduler=()=>Zn(R),ht(f,!0),w()},Q=(f,h,_)=>{h.component=f;const b=f.vnode.props;f.vnode=h,f.next=null,sl(f,h.props,b,_),ol(f,h.children,_),ct(),pr(f),ut()},z=(f,h,_,b,m,y,E,T,S=!1)=>{const w=f&&f.children,R=f?f.shapeFlag:0,k=h.children,{patchFlag:A,shapeFlag:L}=h;if(A>0){if(A&128){xt(w,k,_,b,m,y,E,T,S);return}else if(A&256){Ve(w,k,_,b,m,y,E,T,S);return}}L&8?(R&16&&Ie(w,m,y),k!==w&&c(_,k)):R&16?L&16?xt(w,k,_,b,m,y,E,T,S):Ie(w,m,y,!0):(R&8&&c(_,""),L&16&&xe(k,_,b,m,y,E,T,S))},Ve=(f,h,_,b,m,y,E,T,S)=>{f=f||Nt,h=h||Nt;const w=f.length,R=h.length,k=Math.min(w,R);let A;for(A=0;A<k;A++){const L=h[A]=S?nt(h[A]):Be(h[A]);O(f[A],L,_,null,m,y,E,T,S)}w>R?Ie(f,m,y,!0,!1,k):xe(h,_,b,m,y,E,T,S,k)},xt=(f,h,_,b,m,y,E,T,S)=>{let w=0;const R=h.length;let k=f.length-1,A=R-1;for(;w<=k&&w<=A;){const L=f[w],V=h[w]=S?nt(h[w]):Be(h[w]);if(ns(L,V))O(L,V,_,null,m,y,E,T,S);else break;w++}for(;w<=k&&w<=A;){const L=f[k],V=h[A]=S?nt(h[A]):Be(h[A]);if(ns(L,V))O(L,V,_,null,m,y,E,T,S);else break;k--,A--}if(w>k){if(w<=A){const L=A+1,V=L<R?h[L].el:b;for(;w<=A;)O(null,h[w]=S?nt(h[w]):Be(h[w]),_,V,m,y,E,T,S),w++}}else if(w>A)for(;w<=k;)P(f[w],m,y,!0),w++;else{const L=w,V=w,Y=new Map;for(w=V;w<=A;w++){const ye=h[w]=S?nt(h[w]):Be(h[w]);ye.key!=null&&Y.set(ye.key,w)}let J,me=0;const pe=A-V+1;let Le=!1,De=0;const es=new Array(pe);for(w=0;w<pe;w++)es[w]=0;for(w=L;w<=k;w++){const ye=f[w];if(me>=pe){P(ye,m,y,!0);continue}let Ue;if(ye.key!=null)Ue=Y.get(ye.key);else for(J=V;J<=A;J++)if(es[J-V]===0&&ns(ye,h[J])){Ue=J;break}Ue===void 0?P(ye,m,y,!0):(es[Ue-V]=w+1,Ue>=De?De=Ue:Le=!0,O(ye,h[Ue],_,null,m,y,E,T,S),me++)}const cr=Le?ul(es):Nt;for(J=cr.length-1,w=pe-1;w>=0;w--){const ye=V+w,Ue=h[ye],ur=ye+1<R?h[ye+1].el:b;es[w]===0?O(null,Ue,_,ur,m,y,E,T,S):Le&&(J<0||w!==cr[J]?We(Ue,_,ur,2):J--)}}},We=(f,h,_,b,m=null)=>{const{el:y,type:E,transition:T,children:S,shapeFlag:w}=f;if(w&6){We(f.component.subTree,h,_,b);return}if(w&128){f.suspense.move(h,_,b);return}if(w&64){E.move(f,h,_,Zt);return}if(E===_e){n(y,h,_);for(let k=0;k<S.length;k++)We(S[k],h,_,b);n(f.anchor,h,_);return}if(E===hn){M(f,h,_);return}if(b!==2&&w&1&&T)if(b===0)T.beforeEnter(y),n(y,h,_),be(()=>T.enter(y),m);else{const{leave:k,delayLeave:A,afterLeave:L}=T,V=()=>n(y,h,_),Y=()=>{k(y,()=>{V(),L&&L()})};A?A(y,V,Y):Y()}else n(y,h,_)},P=(f,h,_,b=!1,m=!1)=>{const{type:y,props:E,ref:T,children:S,dynamicChildren:w,shapeFlag:R,patchFlag:k,dirs:A,cacheIndex:L}=f;if(k===-2&&(m=!1),T!=null&&qs(T,null,_,f,!0),L!=null&&(h.renderCache[L]=void 0),R&256){h.ctx.deactivate(f);return}const V=R&1&&A,Y=!ds(f);let J;if(Y&&(J=E&&E.onVnodeBeforeUnmount)&&Me(J,h,f),R&6)ee(f.component,_,b);else{if(R&128){f.suspense.unmount(_,b);return}V&&dt(f,null,h,"beforeUnmount"),R&64?f.type.remove(f,h,_,Zt,b):w&&!w.hasOnce&&(y!==_e||k>0&&k&64)?Ie(w,h,_,!1,!0):(y===_e&&k&384||!m&&R&16)&&Ie(S,h,_),b&&j(f)}(Y&&(J=E&&E.onVnodeUnmounted)||V)&&be(()=>{J&&Me(J,h,f),V&&dt(f,null,h,"unmounted")},_)},j=f=>{const{type:h,el:_,anchor:b,transition:m}=f;if(h===_e){$(_,b);return}if(h===hn){x(f);return}const y=()=>{r(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:E,delayLeave:T}=m,S=()=>E(_,y);T?T(f.el,y,S):S()}else y()},$=(f,h)=>{let _;for(;f!==h;)_=p(f),r(f),f=_;r(h)},ee=(f,h,_)=>{const{bum:b,scope:m,job:y,subTree:E,um:T,m:S,a:w}=f;wr(S),wr(w),b&&Ds(b),m.stop(),y&&(y.flags|=8,P(E,f,h,_)),T&&be(T,h),be(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Ie=(f,h,_,b=!1,m=!1,y=0)=>{for(let E=y;E<f.length;E++)P(f[E],h,_,b,m)},Ke=f=>{if(f.shapeFlag&6)return Ke(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const h=p(f.anchor||f.el),_=h&&h[ja];return _?p(_):h};let Xt=!1;const lr=(f,h,_)=>{f==null?h._vnode&&P(h._vnode,null,null,!0):O(h._vnode||null,f,h,null,null,null,_),h._vnode=f,Xt||(Xt=!0,pr(),Bi(),Xt=!1)},Zt={p:O,um:P,m:We,r:j,mt:Yt,mc:xe,pc:z,pbc:$e,n:Ke,o:t};return{render:lr,hydrate:void 0,createApp:Za(lr)}}function fn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ht({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ao(t,e,s=!1){const n=t.children,r=e.children;if(D(n)&&D(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=nt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ao(o,a)),a.type===tn&&(a.el=o.el)}}function ul(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function lo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lo(e)}function wr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const fl=Symbol.for("v-scx"),dl=()=>Us(fl);function dn(t,e,s){return co(t,e,s)}function co(t,e,s=G){const{immediate:n,deep:r,flush:i,once:o}=s,a=ue({},s),l=e&&n||!e&&i!=="post";let u;if(vs){if(i==="sync"){const g=dl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=He,g.resume=He,g.pause=He,g}}const c=he;a.call=(g,v,O)=>qe(g,c,v,O);let d=!1;i==="post"?a.scheduler=g=>{be(g,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,v)=>{v?g():Zn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Ea(t,e,a);return vs&&(u?u.push(p):l&&p()),p}function hl(t,e,s){const n=this.proxy,r=se(t)?t.includes(".")?uo(n,t):()=>n[t]:t.bind(n,n);let i;U(e)?i=e:(i=e.handler,s=e);const o=Es(this),a=co(r,i.bind(n),s);return o(),a}function uo(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const pl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${at(e)}Modifiers`]||t[`${vt(e)}Modifiers`];function gl(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||G;let r=s;const i=e.startsWith("update:"),o=i&&pl(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>se(c)?c.trim():c)),o.number&&(r=s.map(vn)));let a,l=n[a=rn(e)]||n[a=rn(at(e))];!l&&i&&(l=n[a=rn(vt(e))]),l&&qe(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qe(u,t,6,r)}}function fo(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=fo(u,e,!0);c&&(a=!0,ue(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(te(t)&&n.set(t,null),null):(D(i)?i.forEach(l=>o[l]=null):ue(o,i),te(t)&&n.set(t,o),o)}function en(t,e){return!t||!Js(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,vt(e))||K(t,e))}function vr(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:g,ctx:v,inheritAttrs:O}=t,C=Hs(t);let I,H;try{if(s.shapeFlag&4){const x=r||n,B=x;I=Be(u.call(B,x,c,d,g,p,v)),H=a}else{const x=e;I=Be(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),H=e.props?a:_l(a)}}catch(x){ps.length=0,Xs(x,t,1),I=Xe(wt)}let M=I;if(H&&O!==!1){const x=Object.keys(H),{shapeFlag:B}=M;x.length&&B&7&&(i&&x.some(Bn)&&(H=ml(H,i)),M=Jt(M,H,!1,!0))}return s.dirs&&(M=Jt(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&er(M,s.transition),I=M,Hs(C),I}const _l=t=>{let e;for(const s in t)(s==="class"||s==="style"||Js(s))&&((e||(e={}))[s]=t[s]);return e},ml=(t,e)=>{const s={};for(const n in t)(!Bn(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function yl(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Sr(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==n[p]&&!en(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Sr(n,o,u):!0:!!o;return!1}function Sr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!en(s,i))return!0}return!1}function bl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const ho=t=>t.__isSuspense;function wl(t,e){e&&e.pendingBranch?D(t)?e.effects.push(...t):e.effects.push(t):Pa(t)}const _e=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),hn=Symbol.for("v-stc"),ps=[];let Se=null;function Ee(t=!1){ps.push(Se=t?null:[])}function vl(){ps.pop(),Se=ps[ps.length-1]||null}let ws=1;function Tr(t,e=!1){ws+=t,t<0&&Se&&e&&(Se.hasOnce=!0)}function po(t){return t.dynamicChildren=ws>0?Se||Nt:null,vl(),ws>0&&Se&&Se.push(t),t}function Pe(t,e,s,n,r,i){return po(F(t,e,s,n,r,i,!0))}function Sl(t,e,s,n,r){return po(Xe(t,e,s,n,r,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const _o=({key:t})=>t??null,Ms=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?se(t)||ce(t)||U(t)?{i:ke,r:t,k:e,f:!!s}:t:null);function F(t,e=null,s=null,n=0,r=null,i=t===_e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_o(e),ref:e&&Ms(e),scopeId:qi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ke};return a?(sr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=se(s)?8:16),ws>0&&!o&&Se&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Se.push(l),l}const Xe=Tl;function Tl(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===Wa)&&(t=wt),go(t)){const a=Jt(t,e,!0);return s&&sr(a,s),ws>0&&!i&&Se&&(a.shapeFlag&6?Se[Se.indexOf(t)]=a:Se.push(a)),a.patchFlag=-2,a}if(Il(t)&&(t=t.__vccOpts),e){e=El(e);let{class:a,style:l}=e;a&&!se(a)&&(e.class=Ht(a)),te(l)&&(Xn(l)&&!D(l)&&(l=ue({},l)),e.style=Vn(l))}const o=se(t)?1:ho(t)?128:Ra(t)?64:te(t)?4:U(t)?2:0;return F(t,e,s,n,r,o,i,!0)}function El(t){return t?Xn(t)||eo(t)?ue({},t):t:null}function Jt(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Ol(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&_o(u),ref:e&&e.ref?s&&i?D(i)?i.concat(Ms(e)):[i,Ms(e)]:Ms(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jt(t.ssContent),ssFallback:t.ssFallback&&Jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&er(c,l.clone(c)),c}function kl(t=" ",e=0){return Xe(tn,null,t,e)}function Er(t="",e=!1){return e?(Ee(),Sl(wt,null,t)):Xe(wt,null,t)}function Be(t){return t==null||typeof t=="boolean"?Xe(wt):D(t)?Xe(_e,null,t.slice()):go(t)?nt(t):Xe(tn,null,String(t))}function nt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jt(t)}function sr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(D(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),sr(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!eo(e)?e._ctx=ke:r===3&&ke&&(ke.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:ke},s=32):(e=String(e),n&64?(s=16,e=[kl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Ol(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Ht([e.class,n.class]));else if(r==="style")e.style=Vn([e.style,n.style]);else if(Js(r)){const i=e[r],o=n[r];o&&i!==o&&!(D(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function Me(t,e,s,n=null){qe(t,e,7,[s,n])}const xl=Yi();let Pl=0;function Cl(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||xl,i={uid:Pl++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:so(n,r),emitsOptions:fo(n,r),emit:null,emitted:null,propsDefaults:G,inheritAttrs:n.inheritAttrs,ctx:G,data:G,props:G,attrs:G,slots:G,refs:G,setupState:G,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=gl.bind(null,i),t.ce&&t.ce(i),i}let he=null,Ws,jn;{const t=Qs(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ws=e("__VUE_INSTANCE_SETTERS__",s=>he=s),jn=e("__VUE_SSR_SETTERS__",s=>vs=s)}const Es=t=>{const e=he;return Ws(t),t.scope.on(),()=>{t.scope.off(),Ws(e)}},kr=()=>{he&&he.scope.off(),Ws(null)};function mo(t){return t.vnode.shapeFlag&4}let vs=!1;function Al(t,e=!1,s=!1){e&&jn(e);const{props:n,children:r}=t.vnode,i=mo(t);tl(t,n,i,e),il(t,r,s);const o=i?jl(t,e):void 0;return e&&jn(!1),o}function jl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ka);const{setup:n}=s;if(n){ct();const r=t.setupContext=n.length>1?$l(t):null,i=Es(t),o=Ts(n,t,0,[t.props,r]),a=hi(o);if(ut(),i(),(a||t.sp)&&!ds(t)&&Vi(t),a){if(o.then(kr,kr),e)return o.then(l=>{Or(t,l)}).catch(l=>{Xs(l,t,0)});t.asyncDep=o}else Or(t,o)}else yo(t)}function Or(t,e,s){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:te(e)&&(t.setupState=Mi(e)),yo(t)}function yo(t,e,s){const n=t.type;t.render||(t.render=n.render||He);{const r=Es(t);ct();try{Ja(t)}finally{ut(),r()}}}const Rl={get(t,e){return ae(t,"get",""),t[e]}};function $l(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Rl),slots:t.slots,emit:t.emit,expose:e}}function sn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Mi(Ui(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in hs)return hs[s](t)},has(e,s){return s in e||s in hs}})):t.proxy}function Il(t){return U(t)&&"__vccOpts"in t}const Mt=(t,e)=>Sa(t,e,vs),Ll="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;const xr=typeof window<"u"&&window.trustedTypes;if(xr)try{Rn=xr.createPolicy("vue",{createHTML:t=>t})}catch{}const bo=Rn?t=>Rn.createHTML(t):t=>t,Dl="http://www.w3.org/2000/svg",Ul="http://www.w3.org/1998/Math/MathML",ze=typeof document<"u"?document:null,Pr=ze&&ze.createElement("template"),Ml={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?ze.createElementNS(Dl,t):e==="mathml"?ze.createElementNS(Ul,t):s?ze.createElement(t,{is:s}):ze.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>ze.createTextNode(t),createComment:t=>ze.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ze.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Pr.innerHTML=bo(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Pr.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Fl=Symbol("_vtc");function Nl(t,e,s){const n=t[Fl];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Cr=Symbol("_vod"),Bl=Symbol("_vsh"),Hl=Symbol(""),ql=/(^|;)\s*display\s*:/;function Vl(t,e,s){const n=t.style,r=se(s);let i=!1;if(s&&!r){if(e)if(se(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Fs(n,a,"")}else for(const o in e)s[o]==null&&Fs(n,o,"");for(const o in s)o==="display"&&(i=!0),Fs(n,o,s[o])}else if(r){if(e!==s){const o=n[Hl];o&&(s+=";"+o),n.cssText=s,i=ql.test(s)}}else e&&t.removeAttribute("style");Cr in t&&(t[Cr]=i?n.display:"",t[Bl]&&(n.display="none"))}const Ar=/\s*!important$/;function Fs(t,e,s){if(D(s))s.forEach(n=>Fs(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Wl(t,e);Ar.test(s)?t.setProperty(vt(n),s.replace(Ar,""),"important"):t[n]=s}}const jr=["Webkit","Moz","ms"],pn={};function Wl(t,e){const s=pn[e];if(s)return s;let n=at(e);if(n!=="filter"&&n in t)return pn[e]=n;n=_i(n);for(let r=0;r<jr.length;r++){const i=jr[r]+n;if(i in t)return pn[e]=i}return e}const Rr="http://www.w3.org/1999/xlink";function $r(t,e,s,n,r,i=Go(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Rr,e.slice(6,e.length)):t.setAttributeNS(Rr,e,s):s==null||i&&!yi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":lt(s)?String(s):s)}function Ir(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?bo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=yi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function Ft(t,e,s,n){t.addEventListener(e,s,n)}function Kl(t,e,s,n){t.removeEventListener(e,s,n)}const Lr=Symbol("_vei");function Jl(t,e,s,n,r=null){const i=t[Lr]||(t[Lr]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=zl(e);if(n){const u=i[e]=Yl(n,r);Ft(t,a,u,l)}else o&&(Kl(t,a,o,l),i[e]=void 0)}}const Dr=/(?:Once|Passive|Capture)$/;function zl(t){let e;if(Dr.test(t)){e={};let n;for(;n=t.match(Dr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vt(t.slice(2)),e]}let gn=0;const Gl=Promise.resolve(),Ql=()=>gn||(Gl.then(()=>gn=0),gn=Date.now());function Yl(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;qe(Xl(n,s.value),e,5,[n])};return s.value=t,s.attached=Ql(),s}function Xl(t,e){if(D(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Ur=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zl=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?Nl(t,n,o):e==="style"?Vl(t,s,n):Js(e)?Bn(e)||Jl(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ec(t,e,n,o))?(Ir(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$r(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!se(n))?Ir(t,at(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),$r(t,e,n,o))};function ec(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ur(e)&&U(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ur(e)&&se(s)?!1:e in t}const Mr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return D(e)?s=>Ds(e,s):e};function tc(t){t.target.composing=!0}function Fr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _n=Symbol("_assign"),sc={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[_n]=Mr(r);const i=n||r.props&&r.props.type==="number";Ft(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=vn(a)),t[_n](a)}),s&&Ft(t,"change",()=>{t.value=t.value.trim()}),e||(Ft(t,"compositionstart",tc),Ft(t,"compositionend",Fr),Ft(t,"change",Fr))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[_n]=Mr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?vn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},nc=ue({patchProp:Zl},Ml);let Nr;function rc(){return Nr||(Nr=al(nc))}const ic=(...t)=>{const e=rc().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=ac(n);if(!r)return;const i=e._component;!U(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,oc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function oc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ac(t){return se(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const lc=Symbol();var Br;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Br||(Br={}));function cc(){const t=Qo(!0),e=t.run(()=>Ce({}));let s=[],n=[];const r=Ui({install(i){r._a=i,i.provide(lc,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const uc="modulepreload",fc=function(t){return"/round-log/"+t},Hr={},zt=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=fc(l),l in Hr)return;Hr[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":uc,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},dc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zt(async()=>{const{default:n}=await Promise.resolve().then(()=>Qt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class nr extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class hc extends nr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pc extends nr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gc extends nr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $n;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($n||($n={}));var _c=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class mc{constructor(e,{headers:s={},customFetch:n,region:r=$n.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=dc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return _c(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(v=>{throw new hc(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new pc(c);if(!c.ok)throw new gc(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}function yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var re={},Ct={},At={},jt={},Rt={},$t={},wc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gt=wc();const vc=Gt.fetch,wo=Gt.fetch.bind(Gt),vo=Gt.Headers,Sc=Gt.Request,Tc=Gt.Response,Qt=Object.freeze(Object.defineProperty({__proto__:null,Headers:vo,Request:Sc,Response:Tc,default:wo,fetch:vc},Symbol.toStringTag,{value:"Module"})),Ec=bc(Qt);var As={},qr;function So(){if(qr)return As;qr=1,Object.defineProperty(As,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return As.default=t,As}var Vr;function To(){if(Vr)return $t;Vr=1;var t=$t&&$t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($t,"__esModule",{value:!0});const e=t(Ec),s=t(So());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,p;let g=null,v=null,O=null,C=u.status,I=u.statusText;if(u.ok){if(this.method!=="HEAD"){const B=await u.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=B:v=JSON.parse(B))}const M=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");M&&x&&x.length>1&&(O=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,O=null,C=406,I="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const M=await u.text();try{g=JSON.parse(M),Array.isArray(g)&&u.status===404&&(v=[],g=null,C=200,I="OK")}catch{u.status===404&&M===""?(C=204,I="No Content"):g={message:M}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,C=200,I="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:v,count:O,status:C,statusText:I}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return $t.default=n,$t}var Wr;function Eo(){if(Wr)return Rt;Wr=1;var t=Rt&&Rt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rt,"__esModule",{value:!0});const e=t(To());class s extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Rt.default=s,Rt}var Kr;function rr(){if(Kr)return jt;Kr=1;var t=jt&&jt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jt,"__esModule",{value:!0});const e=t(Eo());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return jt.default=s,jt}var Jr;function ko(){if(Jr)return At;Jr=1;var t=At&&At.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(At,"__esModule",{value:!0});const e=t(rr());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const d=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return At.default=s,At}var rs={},is={},zr;function kc(){return zr||(zr=1,Object.defineProperty(is,"__esModule",{value:!0}),is.version=void 0,is.version="0.0.0-automated"),is}var Gr;function Oc(){if(Gr)return rs;Gr=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.DEFAULT_HEADERS=void 0;const t=kc();return rs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},rs}var Qr;function xc(){if(Qr)return Ct;Qr=1;var t=Ct&&Ct.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ct,"__esModule",{value:!0});const e=t(ko()),s=t(rr()),n=Oc();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([O,C])=>C!==void 0).map(([O,C])=>[O,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([O,C])=>{p.searchParams.append(O,C)})):(d="POST",g=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new s.default({method:d,url:p,headers:v,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Ct.default=r,Ct}var Yr;function Pc(){if(Yr)return re;Yr=1;var t=re&&re.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(re,"__esModule",{value:!0}),re.PostgrestError=re.PostgrestBuilder=re.PostgrestTransformBuilder=re.PostgrestFilterBuilder=re.PostgrestQueryBuilder=re.PostgrestClient=void 0;const e=t(xc());re.PostgrestClient=e.default;const s=t(ko());re.PostgrestQueryBuilder=s.default;const n=t(rr());re.PostgrestFilterBuilder=n.default;const r=t(Eo());re.PostgrestTransformBuilder=r.default;const i=t(To());re.PostgrestBuilder=i.default;const o=t(So());return re.PostgrestError=o.default,re.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},re}var Cc=Pc();const Ac=yc(Cc),{PostgrestClient:jc,PostgrestQueryBuilder:Of,PostgrestFilterBuilder:xf,PostgrestTransformBuilder:Pf,PostgrestBuilder:Cf,PostgrestError:Af}=Ac,Rc="2.11.2",$c={"X-Client-Info":`realtime-js/${Rc}`},Ic="1.0.0",Oo=1e4,Lc=1e3;var Kt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kt||(Kt={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var Ae;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ae||(Ae={}));var In;(function(t){t.websocket="websocket"})(In||(In={}));var mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mt||(mt={}));class Dc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class xo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Xr=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Uc(o,t,e,r),i),{})},Uc=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Po(i,o):Ln(o)},Po=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Bc(e,s)}switch(t){case X.bool:return Mc(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Fc(e);case X.json:case X.jsonb:return Nc(e);case X.timestamp:return Hc(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Ln(e);default:return Ln(e)}},Ln=t=>t,Mc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Nc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Bc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Po(e,a))}return t},Hc=t=>typeof t=="string"?t.replace(" ","T"):t,Co=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class mn{constructor(e,s,n={},r=Oo){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zr||(Zr={}));class gs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=gs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=gs.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map(C=>C.presence_ref),g=d.map(C=>C.presence_ref),v=c.filter(C=>g.indexOf(C.presence_ref)<0),O=d.filter(C=>p.indexOf(C.presence_ref)<0);v.length>0&&(a[u]=v),O.length>0&&(l[u]=O)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ei;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ei||(ei={}));var ti;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ti||(ti={}));var Ge;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ge||(Ge={}));class ir{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new mn(this,Ae.join,this.params,this.timeout),this.rejoinTimer=new xo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ae.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new gs(this),this.broadcastEndpointURL=Co(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ge.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ge.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Ge.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,v=[];for(let O=0;O<g;O++){const C=p[O],{filter:{event:I,schema:H,table:M,filter:x}}=C,B=c&&c[O];if(B&&B.event===I&&B.schema===H&&B.table===M&&B.filter===x)v.push(Object.assign(Object.assign({},C),{id:B.id}));else{this.unsubscribe(),e==null||e(Ge.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ge.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ge.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ge.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new mn(this,Ae.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new mn(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ae;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,s,n);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var v,O,C;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((C=(O=g.filter)===null||O===void 0?void 0:O.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,O,C,I,H,M;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,B=(v=g.filter)===null||v===void 0?void 0:v.event;return x&&((O=s.ids)===null||O===void 0?void 0:O.includes(x))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const x=(H=(I=g==null?void 0:g.filter)===null||I===void 0?void 0:I.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return x==="*"||x===((M=s==null?void 0:s.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:O,table:C,commit_timestamp:I,type:H,errors:M}=v;p=Object.assign(Object.assign({},{schema:O,table:C,commit_timestamp:I,eventType:H,new:{},old:{},errors:M}),this._getPayloadRecords(v))}g.callback(p,n)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ir.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ae.close,{},e)}_onError(e){this._on(Ae.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Xr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Xr(e.columns,e.old_record)),s}}const qc=()=>{},Vc=typeof WebSocket<"u",Wc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kc{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$c,this.params={},this.timeout=Oo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qc,this.conn=null,this.sendBuffer=[],this.serializer=new Dc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>zt(async()=>{const{default:l}=await Promise.resolve().then(()=>Qt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${In.websocket}`,this.httpEndpoint=Co(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Vc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Jc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),zt(async()=>{const{default:e}=await import("./browser-CQe8DlfG.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ic}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kt.connecting:return mt.Connecting;case Kt.open:return mt.Open;case Kt.closing:return mt.Closing;default:return mt.Closed}}isConnected(){return this.connectionState()===mt.Open}channel(e,s={config:{}}){const n=new ir(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Ae.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Lc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ae.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([Wc],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Jc{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class or extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zc extends or{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dn extends or{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Gc=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ao=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zt(async()=>{const{default:n}=await Promise.resolve().then(()=>Qt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Qc=()=>Gc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zt(()=>Promise.resolve().then(()=>Qt),void 0)).Response:Response}),Un=t=>{if(Array.isArray(t))return t.map(s=>Un(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Un(n)}),e};var St=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const yn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yc=(t,e,s)=>St(void 0,void 0,void 0,function*(){const n=yield Qc();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new zc(yn(r),t.status||500))}).catch(r=>{e(new Dn(yn(r),r))}):e(new Dn(yn(t),t))}),Xc=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function ks(t,e,s,n,r,i){return St(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Xc(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Yc(l,a,n))})})}function Ks(t,e,s,n){return St(this,void 0,void 0,function*(){return ks(t,"GET",e,s,n)})}function rt(t,e,s,n,r){return St(this,void 0,void 0,function*(){return ks(t,"POST",e,n,r,s)})}function Zc(t,e,s,n,r){return St(this,void 0,void 0,function*(){return ks(t,"PUT",e,n,r,s)})}function eu(t,e,s,n){return St(this,void 0,void 0,function*(){return ks(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function jo(t,e,s,n,r){return St(this,void 0,void 0,function*(){return ks(t,"DELETE",e,n,r,s)})}var ge=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const tu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},si={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class su{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Ao(r)}uploadOrUpdate(e,s,n,r){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},si),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(e,s,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:si.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new or("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}update(e,s,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return ge(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}copy(e,s,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return ge(this,void 0,void 0,function*(){try{const r=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}download(e,s){return ge(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ks(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(e){return ge(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Ks(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Un(n),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}exists(e){return ge(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield eu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ie(n)&&n instanceof Dn){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}list(e,s,n){return ge(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},tu),s),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const nu="2.7.1",ru={"X-Client-Info":`storage-js/${nu}`};var It=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class iu{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},ru),s),this.fetch=Ao(n)}listBuckets(){return It(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return It(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return It(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}emptyBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}deleteBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}}class ou extends iu{constructor(e,s={},n){super(e,s,n)}from(e){return new su(this.url,this.headers,e,this.fetch)}}const au="2.48.1";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const lu={"X-Client-Info":`supabase-js-${ls}/${au}`},cu={headers:lu},uu={schema:"public"},fu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},du={};var hu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const pu=t=>{let e;return t?e=t:typeof fetch>"u"?e=wo:e=fetch,(...s)=>e(...s)},gu=()=>typeof Headers>"u"?vo:Headers,_u=(t,e,s)=>{const n=pu(s),r=gu();return(i,o)=>hu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var mu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function yu(t){return t.replace(/\/$/,"")}function bu(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>mu(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ro="2.67.3",wu="http://localhost:9999",vu="supabase.auth.token",Su={"X-Client-Info":`gotrue-js/${Ro}`},ni=10,Mn="X-Supabase-Api-Version",$o={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Tu(t){return Math.round(Date.now()/1e3)+t}function Eu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",pt={tested:!1,writable:!1},_s=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pt.tested)return pt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pt.tested=!0,pt.writable=!0}catch{pt.tested=!0,pt.writable=!1}return pt.writable};function ku(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const Io=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>zt(async()=>{const{default:n}=await Promise.resolve().then(()=>Qt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Ou=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},js=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Rs=async(t,e)=>{await t.removeItem(e)};function xu(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class nn{constructor(){this.promise=new nn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}nn.promiseConstructor=Promise;function ri(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(xu(n))}async function Pu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cu(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Au(t){return("0"+t.toString(16)).substr(-2)}function ju(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Au).join("")}async function Ru(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function $u(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Iu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Ru(t);return $u(s)}async function Lt(t,e,s=!1){const n=ju();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Lo(t,`${e}-code-verifier`,r);const i=await Iu(n);return[i,n===i?"plain":"s256"]}const Lu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Du(t){const e=t.headers.get(Mn);if(!e||!e.match(Lu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ar extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function N(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Uu extends ar{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Mu(t){return N(t)&&t.name==="AuthApiError"}class Do extends ar{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Tt extends ar{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class et extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fu(t){return N(t)&&t.name==="AuthSessionMissingError"}class bn extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends Tt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Is extends Tt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nu(t){return N(t)&&t.name==="AuthImplicitGrantRedirectError"}class ii extends Tt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fn extends Tt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function wn(t){return N(t)&&t.name==="AuthRetryableFetchError"}class oi extends Tt{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var Bu=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const _t=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hu=[502,503,504];async function ai(t){var e;if(!Ou(t))throw new Fn(_t(t),0);if(Hu.includes(t.status))throw new Fn(_t(t),t.status);let s;try{s=await t.json()}catch(i){throw new Do(_t(i),i)}let n;const r=Du(t);if(r&&r.getTime()>=$o["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new oi(_t(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new et}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oi(_t(s),t.status,s.weak_password.reasons);throw new Uu(_t(s),t.status||500,n)}const qu=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function q(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[Mn]||(i[Mn]=$o["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vu(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Vu(t,e,s,n,r,i){const o=qu(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Fn(_t(l),0)}if(a.ok||await ai(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ai(l)}}function tt(t){var e;let s=null;zu(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Tu(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function li(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function it(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wu(t){return{data:t,error:null}}function Ku(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=Bu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ju(t){return t}function zu(t){return t.access_token&&t.refresh_token&&t.expires_in}var Gu=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Qu{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Io(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:it})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Gu(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ku,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(N(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:it})}catch(s){if(N(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ju});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const O=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(v.split(";")[1].split("=")[1]);u[`${C}Page`]=O}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:it})}catch(s){if(N(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:it})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:it})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(N(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(N(s))return{data:null,error:s};throw s}}}const Yu={getItem:t=>_s()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_s()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_s()&&globalThis.localStorage.removeItem(t)}};function ci(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Xu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dt={debug:!!(globalThis&&_s()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zu extends Uo{}async function ef(t,e,s){Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zu(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Xu();const tf={url:wu,storageKey:vu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Su,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},os=30*1e3,ui=3;async function fi(t,e,s){return await s()}class Ss{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tf),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Qu({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Io(r.fetch),this.lock=r.lock||fi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Fe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ef:this.lock=fi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_s()?this.storage=Yu:(this.memoryStorage={},this.storage=ci(this.memoryStorage)):(this.memoryStorage={},this.storage=ci(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ro}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ku(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Fe()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return N(s)?{error:s}:{error:new Do("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:tt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Lt(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:tt})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:tt})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:li})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:li})}else throw new $s("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await js(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tt});if(await Rs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(N(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:tt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Lt(this.storage,this.storageKey));const{error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new $s("You must provide either an email or phone number.")}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Lt(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wu})}catch(i){if(N(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new et;const{error:r}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(N(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await q(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await q(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new $s("You must provide either an email or phone number and a type")}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:it}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:it})})}catch(s){if(N(s))return Fu(s)&&(await this._removeSession(),await Rs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new et;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Lt(this.storage,this.storageKey));const{data:u,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:it});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return ri(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new et;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=ri(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(N(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new et;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Fe())throw new Is("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Is(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ii("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ii("No code detected.");const{data:H,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Is("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=p-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,c);const{data:O,error:C}=await this._getUser(i);if(C)throw C;const I={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(n){if(N(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Mu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Eu(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Lt(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(N(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(N(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Fe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(N(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(N(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Cu(async r=>(r>0&&await Pu(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&wn(i)&&Date.now()+o-n<os})}catch(n){if(this._debug(s,"error",n),N(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Fe()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await js(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<r+ni;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ni}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),wn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new nn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),N(i)){const o={session:null,error:i};return wn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Lo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Rs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${os}ms, refresh threshold is ${ui} ticks`),r<=ui&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Lt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(N(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(N(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(N(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(N(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ss.nextInstanceID=0;const sf=Ss;class nf extends sf{constructor(e){super(e)}}var rf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class of{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=yu(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:uu,realtime:du,auth:Object.assign(Object.assign({},fu),{storageKey:l}),global:cu},c=bu(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=_u(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new jc(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new mc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ou(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return rf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nf({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Kc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const af=(t,e,s)=>new of(t,e,s),lf="https://mytblvsmcftktqbnaikc.supabase.co",cf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15dGJsdnNtY2Z0a3RxYm5haWtjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4NDEwNTcsImV4cCI6MjA1NDQxNzA1N30.6MdzWoj65LwRXI4CmYd8E5-W3dNnAi7_4QboAvOyPnc",Ls=af(lf,cf),uf={class:"score-input"},ff={class:"hole-selector"},df={class:"button-group"},hf=["onClick"],pf={class:"button-group"},gf=["onClick"],_f={class:"button-group"},mf=["onClick"],yf={key:0,class:"error-message"},bf={key:1,class:"success-message"},wf={class:"animationClass"},vf={class:"button-column"},Sf=["onClick"],Tf=["onClick"],Ef=$a({__name:"App",setup(t){const e=Ce(1),s=Ce(""),n=Ce(""),r=Ce([]),i=Ce({}),o=Ce(!1),a=Ce(null),l=Ce(null),u=Ce(""),c=Ce("");let d=0,p=0;const g=P=>{d=P.touches[0].clientX},v=P=>{p=P.touches[0].clientX},O=()=>{const P=d-p;P>50?Q():P<-50&&ne()},C=async()=>{const{data:P,error:j}=await Ls.from("golf_shots").select("*");if(j){console.error("データ取得エラー:",j.message),u.value=`データの取得に失敗しました: ${j.message}`;return}if(P){const $={};P.forEach(ee=>{$[ee.hole_number]||($[ee.hole_number]=[]),$[ee.hole_number].push({club:ee.club,result:ee.result,conditions:ee.conditions})}),i.value=$,c.value=""}};Ji(()=>{C()});const I=async P=>{var $;const{error:j}=await Ls.from("golf_shots").insert([{hole_number:e.value,shot_number:((($=i.value[e.value])==null?void 0:$.length)||0)+1,club:P.club,result:P.result,conditions:P.conditions}]);return j?(console.error("保存エラー:",j.message),u.value=`保存に失敗しました: ${j.message}`,!1):(c.value="",!0)},H=async(P,j)=>{const{error:$}=await Ls.from("golf_shots").delete().match({hole_number:P,shot_number:j});return $?(console.error("削除エラー:",$.message),u.value=`削除に失敗しました: ${$.message}`,!1):(c.value="",!0)},M=async P=>{if(i.value[P])for(let j=0;j<i.value[P].length;j++){const $=j+1,{error:ee}=await Ls.from("golf_shots").update({shot_number:$}).match({hole_number:P,club:i.value[P][j].club,result:i.value[P][j].result});ee&&(console.error("ショット番号更新エラー:",ee.message),u.value=`ショット番号の更新に失敗しました: ${ee.message}`)}},x=["1W","3W","5W","4U","5I","6I","7I","8I","9I","PW","AP","AW","SW","PT"],B=[{label:"〇（Good!!）",value:"〇"},{label:"△（普通）",value:"△"},{label:"×（ミス）",value:"×"}],Re=["ラフ","バンカー","ベアグラウンド","左足下がり","右足下がり","つま先下がり","つま先上がり","池越え","谷越え","バンカー越え","ブラインド","打ち上げ","打ち下ろし","ショートパッド","ミドルパッド","ロングパッド"],Te=Mt(()=>s.value==="PT"?["ショートパッド","ミドルパッド","ロングパッド"]:xe.value===1?["池越え","谷越え","ブラインド","打ち上げ","打ち下ろし"]:Re.filter(P=>P!=="ショートパッド"&&P!=="ミドルパッド"&&P!=="ロングパッド")),xe=Mt(()=>{var P;return o.value?(l.value??0)+1:(((P=i.value[e.value])==null?void 0:P.length)||0)+1}),Et=P=>{const j=[["左足下がり","右足下がり"],["つま先下がり","つま先上がり"],["打ち上げ","打ち下ろし"],["ショートパッド","ミドルパッド","ロングパッド"]];if(r.value.includes(P)){r.value=r.value.filter($=>$!==P);return}for(const $ of j)if($.includes(P)){r.value=r.value.filter(ee=>!$.includes(ee));break}r.value.push(P)},$e=()=>s.value?n.value?(u.value="",!0):(u.value="結果を選択してください。",!1):(u.value="クラブを選択してください。",!1),ft=async()=>{if(!$e())return;const P={club:s.value,result:n.value,conditions:[...r.value]};await I(P)&&(i.value[e.value]||(i.value[e.value]=[]),i.value[e.value].push(P),Os())},kt=(P,j,$)=>{e.value=P,s.value=$.club,n.value=$.result,r.value=[...$.conditions],o.value=!0,a.value=P,l.value=j},Ot=()=>{$e()&&(a.value!==null&&l.value!==null&&(i.value[a.value][l.value]={club:s.value,result:n.value,conditions:[...r.value]}),Yt())},Yt=()=>{o.value=!1,a.value=null,l.value=null,s.value="1W",n.value="〇",r.value=[]},Os=()=>{s.value="",n.value="",r.value=[]},ne=()=>{e.value=e.value>1?e.value-1:18},Q=()=>{e.value=e.value<18?e.value+1:1},z=async(P,j)=>{const $=j+1;await H(P,$)&&(i.value[P].splice(j,1),i.value[P].length===0&&delete i.value[P],await M(P))},Ve=Mt(()=>Object.values(i.value).reduce((P,j)=>P+j.length,0)),xt=Mt(()=>Object.values(i.value).flat().filter(P=>P.club==="PT").length),We=Mt(()=>Object.values(i.value).flat().filter(P=>P.conditions.includes("バンカー")).length);return(P,j)=>(Ee(),Pe("div",{class:"container",onTouchstart:g,onTouchmove:v,onTouchend:O},[j[9]||(j[9]=F("h2",{class:"animate__animated animate__bounce"},"Round Log",-1)),F("div",uf,[F("div",ff,[F("button",{onClick:ne},"◀"),Aa(F("input",{type:"number","onUpdate:modelValue":j[0]||(j[0]=$=>e.value=$),min:"1",max:"18"},null,512),[[sc,e.value]]),j[2]||(j[2]=F("label",null,"H",-1)),F("button",{onClick:Q},"▶")]),F("h2",null,oe(xe.value)+"打目",1),j[3]||(j[3]=F("label",null,"クラブ: ",-1)),F("div",df,[(Ee(),Pe(_e,null,ss(x,$=>F("button",{key:$,class:Ht({selected:s.value===$}),onClick:ee=>s.value=$},oe($),11,hf)),64))]),j[4]||(j[4]=F("label",null,"結果: ",-1)),F("div",pf,[(Ee(),Pe(_e,null,ss(B,$=>F("button",{key:$.value,class:Ht({selected:n.value===$.value}),onClick:ee=>n.value=$.value},oe($.label),11,gf)),64))]),j[5]||(j[5]=F("label",null,"状況: ",-1)),F("div",_f,[(Ee(!0),Pe(_e,null,ss(Te.value,$=>(Ee(),Pe("button",{key:$,class:Ht({selected:r.value.includes($)}),onClick:ee=>Et($)},oe($),11,mf))),128))]),u.value?(Ee(),Pe("p",yf,oe(u.value),1)):Er("",!0),c.value?(Ee(),Pe("p",bf,oe(c.value),1)):Er("",!0),F("button",{class:"add-btn",onClick:j[1]||(j[1]=$=>o.value?Ot():ft())},oe(o.value?"更新":"追加"),1)]),F("h3",wf,"トータルスコア: "+oe(Ve.value),1),F("h4",null,"パット数: "+oe(xt.value),1),F("h4",null,"バンカーショット数: "+oe(We.value),1),F("table",null,[j[8]||(j[8]=F("thead",null,[F("tr",null,[F("th",null,"ホール"),F("th",null,"打数"),F("th",null,"詳細")])],-1)),F("tbody",null,[(Ee(!0),Pe(_e,null,ss(i.value,($,ee)=>(Ee(),Pe("tr",{key:ee},[F("td",null,oe(ee),1),F("td",null,oe($.length),1),F("td",null,[F("ul",null,[(Ee(!0),Pe(_e,null,ss($,(Ie,Ke)=>(Ee(),Pe("li",{key:Ke,class:"shot-details"},[F("span",null,oe(Ke+1)+"打目: "+oe(Ie.club)+" - "+oe(Ie.result),1),j[6]||(j[6]=F("br",null,null,-1)),F("small",null,"状況: "+oe(Ie.conditions.join(", ")||"なし"),1),j[7]||(j[7]=F("br",null,null,-1)),F("div",vf,[F("button",{class:"edit-btn",onClick:Xt=>kt(ee,Ke,Ie)},"変更",8,Sf),F("button",{class:"delete-btn",onClick:Xt=>z(ee,Ke)},"削除",8,Tf)])]))),128))])])]))),128))])])],32))}}),Mo=ic(Ef);Mo.use(cc());Mo.mount("#app");export{yc as g};
