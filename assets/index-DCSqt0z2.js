(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ne={},on=[],ot=()=>{},tl=()=>!1,_s=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wr=e=>e.startsWith("onUpdate:"),Re=Object.assign,Sr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},nl=Object.prototype.hasOwnProperty,X=(e,t)=>nl.call(e,t),B=Array.isArray,an=e=>ys(e)==="[object Map]",po=e=>ys(e)==="[object Set]",H=e=>typeof e=="function",fe=e=>typeof e=="string",At=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",go=e=>(le(e)||H(e))&&H(e.then)&&H(e.catch),mo=Object.prototype.toString,ys=e=>mo.call(e),sl=e=>ys(e).slice(8,-1),_o=e=>ys(e)==="[object Object]",Er=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pn=vr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rl=/-(\w)/g,Ve=bs(e=>e.replace(rl,(t,n)=>n?n.toUpperCase():"")),il=/\B([A-Z])/g,Vt=bs(e=>e.replace(il,"-$1").toLowerCase()),vs=bs(e=>e.charAt(0).toUpperCase()+e.slice(1)),js=bs(e=>e?`on${vs(e)}`:""),xt=(e,t)=>!Object.is(e,t),ss=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},yo=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ys=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Gr;const ws=()=>Gr||(Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kr(e){if(B(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=fe(s)?ul(s):kr(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(fe(e)||le(e))return e}const ol=/;(?![^(]*\))/g,al=/:([^]+)/,ll=/\/\*[^]*?\*\//g;function ul(e){const t={};return e.replace(ll,"").split(ol).forEach(n=>{if(n){const s=n.split(al);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function gt(e){let t="";if(fe(e))t=e;else if(B(e))for(let n=0;n<e.length;n++){const s=gt(e[n]);s&&(t+=s+" ")}else if(le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fl=vr(cl);function bo(e){return!!e||e===""}const vo=e=>!!(e&&e.__v_isRef===!0),ee=e=>fe(e)?e:e==null?"":B(e)||le(e)&&(e.toString===mo||!H(e.toString))?vo(e)?ee(e.value):JSON.stringify(e,wo,2):String(e),wo=(e,t)=>vo(t)?wo(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Is(s,i)+" =>"]=r,n),{})}:po(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Is(n))}:At(t)?Is(t):le(t)&&!B(t)&&!_o(t)?String(t):t,Is=(e,t="")=>{var n;return At(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let De;class So{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=De,!t&&De&&(this.index=(De.scopes||(De.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=De;try{return De=this,t()}finally{De=n}}}on(){De=this}off(){De=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function dl(e){return new So(e)}function hl(){return De}let oe;const Ls=new WeakSet;class Eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,De&&De.active&&De.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ls.has(this)&&(Ls.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ro(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qr(this),To(this);const t=oe,n=ze;oe=this,ze=!0;try{return this.fn()}finally{Po(this),oe=t,ze=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pr(t);this.deps=this.depsTail=void 0,Qr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ls.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let ko=0,Cn,On;function Ro(e,t=!1){if(e.flags|=8,t){e.next=On,On=e;return}e.next=Cn,Cn=e}function Rr(){ko++}function Tr(){if(--ko>0)return;if(On){let t=On;for(On=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function To(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Po(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Pr(s),pl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Xs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Co(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Co(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Nn))return;e.globalVersion=Nn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Xs(e)){e.flags&=-3;return}const n=oe,s=ze;oe=e,ze=!0;try{To(e);const r=e.fn(e._value);(t.version===0||xt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{oe=n,ze=s,Po(e),e.flags&=-3}}function Pr(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Pr(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function pl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ze=!0;const Oo=[];function $t(){Oo.push(ze),ze=!1}function jt(){const e=Oo.pop();ze=e===void 0?!0:e}function Qr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=oe;oe=void 0;try{t()}finally{oe=n}}}let Nn=0;class gl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!oe||!ze||oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==oe)n=this.activeLink=new gl(oe,this),oe.deps?(n.prevDep=oe.depsTail,oe.depsTail.nextDep=n,oe.depsTail=n):oe.deps=oe.depsTail=n,xo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=oe.depsTail,n.nextDep=void 0,oe.depsTail.nextDep=n,oe.depsTail=n,oe.deps===n&&(oe.deps=s)}return n}trigger(t){this.version++,Nn++,this.notify(t)}notify(t){Rr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Tr()}}}function xo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)xo(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Zs=new WeakMap,Bt=Symbol(""),er=Symbol(""),Mn=Symbol("");function we(e,t,n){if(ze&&oe){let s=Zs.get(e);s||Zs.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Cr),r.map=s,r.key=n),r.track()}}function dt(e,t,n,s,r,i){const o=Zs.get(e);if(!o){Nn++;return}const a=l=>{l&&l.trigger()};if(Rr(),t==="clear")o.forEach(a);else{const l=B(e),c=l&&Er(n);if(l&&n==="length"){const u=Number(s);o.forEach((f,h)=>{(h==="length"||h===Mn||!At(h)&&h>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Mn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Bt)),an(e)&&a(o.get(er)));break;case"delete":l||(a(o.get(Bt)),an(e)&&a(o.get(er)));break;case"set":an(e)&&a(o.get(Bt));break}}Tr()}function zt(e){const t=Y(e);return t===e?t:(we(t,"iterate",Mn),qe(e)?t:t.map(Se))}function Ss(e){return we(e=Y(e),"iterate",Mn),e}const ml={__proto__:null,[Symbol.iterator](){return Ds(this,Symbol.iterator,Se)},concat(...e){return zt(this).concat(...e.map(t=>B(t)?zt(t):t))},entries(){return Ds(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return lt(this,"every",e,t,void 0,arguments)},filter(e,t){return lt(this,"filter",e,t,n=>n.map(Se),arguments)},find(e,t){return lt(this,"find",e,t,Se,arguments)},findIndex(e,t){return lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return lt(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Us(this,"includes",e)},indexOf(...e){return Us(this,"indexOf",e)},join(e){return zt(this).join(e)},lastIndexOf(...e){return Us(this,"lastIndexOf",e)},map(e,t){return lt(this,"map",e,t,void 0,arguments)},pop(){return bn(this,"pop")},push(...e){return bn(this,"push",e)},reduce(e,...t){return Yr(this,"reduce",e,t)},reduceRight(e,...t){return Yr(this,"reduceRight",e,t)},shift(){return bn(this,"shift")},some(e,t){return lt(this,"some",e,t,void 0,arguments)},splice(...e){return bn(this,"splice",e)},toReversed(){return zt(this).toReversed()},toSorted(e){return zt(this).toSorted(e)},toSpliced(...e){return zt(this).toSpliced(...e)},unshift(...e){return bn(this,"unshift",e)},values(){return Ds(this,"values",Se)}};function Ds(e,t,n){const s=Ss(e),r=s[t]();return s!==e&&!qe(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const _l=Array.prototype;function lt(e,t,n,s,r,i){const o=Ss(e),a=o!==e&&!qe(e),l=o[t];if(l!==_l[t]){const f=l.apply(e,i);return a?Se(f):f}let c=n;o!==e&&(a?c=function(f,h){return n.call(this,Se(f),h,e)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,e)}));const u=l.call(o,c,s);return a&&r?r(u):u}function Yr(e,t,n,s){const r=Ss(e);let i=n;return r!==e&&(qe(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Se(a),l,e)}),r[t](i,...s)}function Us(e,t,n){const s=Y(e);we(s,"iterate",Mn);const r=s[t](...n);return(r===-1||r===!1)&&Ar(n[0])?(n[0]=Y(n[0]),s[t](...n)):r}function bn(e,t,n=[]){$t(),Rr();const s=Y(e)[t].apply(e,n);return Tr(),jt(),s}const yl=vr("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function bl(e){At(e)||(e=String(e));const t=Y(this);return we(t,"has",e),t.hasOwnProperty(e)}class $o{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Ol:Do:i?Lo:Io).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=B(t);if(!r){let l;if(o&&(l=ml[n]))return l;if(n==="hasOwnProperty")return bl}const a=Reflect.get(t,n,ke(t)?t:s);return(At(n)?Ao.has(n):yl(n))||(r||we(t,"get",n),i)?a:ke(a)?o&&Er(n)?a:a.value:le(a)?r?No(a):Es(a):a}}class jo extends $o{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const l=Ht(i);if(!qe(s)&&!Ht(s)&&(i=Y(i),s=Y(s)),!B(t)&&ke(i)&&!ke(s))return l?!1:(i.value=s,!0)}const o=B(t)&&Er(n)?Number(n)<t.length:X(t,n),a=Reflect.set(t,n,s,ke(t)?t:r);return t===Y(r)&&(o?xt(s,i)&&dt(t,"set",n,s):dt(t,"add",n,s)),a}deleteProperty(t,n){const s=X(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&dt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!At(n)||!Ao.has(n))&&we(t,"has",n),s}ownKeys(t){return we(t,"iterate",B(t)?"length":Bt),Reflect.ownKeys(t)}}class vl extends $o{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wl=new jo,Sl=new vl,El=new jo(!0);const tr=e=>e,Gn=e=>Reflect.getPrototypeOf(e);function kl(e,t,n){return function(...s){const r=this.__v_raw,i=Y(r),o=an(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),u=n?tr:t?nr:Se;return!t&&we(i,"iterate",l?er:Bt),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Qn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Rl(e,t){const n={get(r){const i=this.__v_raw,o=Y(i),a=Y(r);e||(xt(r,a)&&we(o,"get",r),we(o,"get",a));const{has:l}=Gn(o),c=t?tr:e?nr:Se;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&we(Y(r),"iterate",Bt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Y(i),a=Y(r);return e||(xt(r,a)&&we(o,"has",r),we(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=Y(a),c=t?tr:e?nr:Se;return!e&&we(l,"iterate",Bt),a.forEach((u,f)=>r.call(i,c(u),c(f),o))}};return Re(n,e?{add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear")}:{add(r){!t&&!qe(r)&&!Ht(r)&&(r=Y(r));const i=Y(this);return Gn(i).has.call(i,r)||(i.add(r),dt(i,"add",r,r)),this},set(r,i){!t&&!qe(i)&&!Ht(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=Gn(o);let c=a.call(o,r);c||(r=Y(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?xt(i,u)&&dt(o,"set",r,i):dt(o,"add",r,i),this},delete(r){const i=Y(this),{has:o,get:a}=Gn(i);let l=o.call(i,r);l||(r=Y(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&dt(i,"delete",r,void 0),c},clear(){const r=Y(this),i=r.size!==0,o=r.clear();return i&&dt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=kl(r,e,t)}),n}function Or(e,t){const n=Rl(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(X(n,r)&&r in s?n:s,r,i)}const Tl={get:Or(!1,!1)},Pl={get:Or(!1,!0)},Cl={get:Or(!0,!1)};const Io=new WeakMap,Lo=new WeakMap,Do=new WeakMap,Ol=new WeakMap;function xl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Al(e){return e.__v_skip||!Object.isExtensible(e)?0:xl(sl(e))}function Es(e){return Ht(e)?e:xr(e,!1,wl,Tl,Io)}function Uo(e){return xr(e,!1,El,Pl,Lo)}function No(e){return xr(e,!0,Sl,Cl,Do)}function xr(e,t,n,s,r){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Al(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function ln(e){return Ht(e)?ln(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function Ar(e){return e?!!e.__v_raw:!1}function Y(e){const t=e&&e.__v_raw;return t?Y(t):e}function Mo(e){return!X(e,"__v_skip")&&Object.isExtensible(e)&&yo(e,"__v_skip",!0),e}const Se=e=>le(e)?Es(e):e,nr=e=>le(e)?No(e):e;function ke(e){return e?e.__v_isRef===!0:!1}function ie(e){return Fo(e,!1)}function $l(e){return Fo(e,!0)}function Fo(e,t){return ke(e)?e:new jl(e,t)}class jl{constructor(t,n){this.dep=new Cr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Y(t),this._value=n?t:Se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||qe(t)||Ht(t);t=s?t:Y(t),xt(t,n)&&(this._rawValue=t,this._value=s?t:Se(t),this.dep.trigger())}}function He(e){return ke(e)?e.value:e}const Il={get:(e,t,n)=>t==="__v_raw"?e:He(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return ke(r)&&!ke(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Bo(e){return ln(e)?e:new Proxy(e,Il)}class Ll{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Cr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return Ro(this,!0),!0}get value(){const t=this.dep.track();return Co(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Dl(e,t,n=!1){let s,r;return H(e)?s=e:(s=e.get,r=e.set),new Ll(s,r,n)}const Yn={},as=new WeakMap;let Nt;function Ul(e,t=!1,n=Nt){if(n){let s=as.get(n);s||as.set(n,s=[]),s.push(e)}}function Nl(e,t,n=ne){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=C=>r?C:qe(C)||r===!1||r===0?ht(C,1):ht(C);let u,f,h,g,y=!1,b=!1;if(ke(e)?(f=()=>e.value,y=qe(e)):ln(e)?(f=()=>c(e),y=!0):B(e)?(b=!0,y=e.some(C=>ln(C)||qe(C)),f=()=>e.map(C=>{if(ke(C))return C.value;if(ln(C))return c(C);if(H(C))return l?l(C,2):C()})):H(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){$t();try{h()}finally{jt()}}const C=Nt;Nt=u;try{return l?l(e,3,[g]):e(g)}finally{Nt=C}}:f=ot,t&&r){const C=f,M=r===!0?1/0:r;f=()=>ht(C(),M)}const k=hl(),x=()=>{u.stop(),k&&k.active&&Sr(k.effects,u)};if(i&&t){const C=t;t=(...M)=>{C(...M),x()}}let I=b?new Array(e.length).fill(Yn):Yn;const A=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const M=u.run();if(r||y||(b?M.some((de,ae)=>xt(de,I[ae])):xt(M,I))){h&&h();const de=Nt;Nt=u;try{const ae=[M,I===Yn?void 0:b&&I[0]===Yn?[]:I,g];l?l(t,3,ae):t(...ae),I=M}finally{Nt=de}}}else u.run()};return a&&a(A),u=new Eo(f),u.scheduler=o?()=>o(A,!1):A,g=C=>Ul(C,!1,u),h=u.onStop=()=>{const C=as.get(u);if(C){if(l)l(C,4);else for(const M of C)M();as.delete(u)}},t?s?A(!0):I=u.run():o?o(A.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function ht(e,t=1/0,n){if(t<=0||!le(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ke(e))ht(e.value,t,n);else if(B(e))for(let s=0;s<e.length;s++)ht(e[s],t,n);else if(po(e)||an(e))e.forEach(s=>{ht(s,t,n)});else if(_o(e)){for(const s in e)ht(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ht(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wn(e,t,n,s){try{return s?e(...s):e()}catch(r){ks(r,t,n)}}function at(e,t,n,s){if(H(e)){const r=Wn(e,t,n,s);return r&&go(r)&&r.catch(i=>{ks(i,t,n)}),r}if(B(e)){const r=[];for(let i=0;i<e.length;i++)r.push(at(e[i],t,n,s));return r}}function ks(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ne;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){$t(),Wn(i,null,10,[e,l,c]),jt();return}}Ml(e,n,r,s,o)}function Ml(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Ce=[];let rt=-1;const un=[];let Rt=null,nn=0;const Ho=Promise.resolve();let ls=null;function qo(e){const t=ls||Ho;return e?t.then(this?e.bind(this):e):t}function Fl(e){let t=rt+1,n=Ce.length;for(;t<n;){const s=t+n>>>1,r=Ce[s],i=Fn(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function $r(e){if(!(e.flags&1)){const t=Fn(e),n=Ce[Ce.length-1];!n||!(e.flags&2)&&t>=Fn(n)?Ce.push(e):Ce.splice(Fl(t),0,e),e.flags|=1,Vo()}}function Vo(){ls||(ls=Ho.then(Wo))}function Bl(e){B(e)?un.push(...e):Rt&&e.id===-1?Rt.splice(nn+1,0,e):e.flags&1||(un.push(e),e.flags|=1),Vo()}function Xr(e,t,n=rt+1){for(;n<Ce.length;n++){const s=Ce[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ce.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ko(e){if(un.length){const t=[...new Set(un)].sort((n,s)=>Fn(n)-Fn(s));if(un.length=0,Rt){Rt.push(...t);return}for(Rt=t,nn=0;nn<Rt.length;nn++){const n=Rt[nn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rt=null,nn=0}}const Fn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wo(e){try{for(rt=0;rt<Ce.length;rt++){const t=Ce[rt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;rt<Ce.length;rt++){const t=Ce[rt];t&&(t.flags&=-2)}rt=-1,Ce.length=0,Ko(),ls=null,(Ce.length||un.length)&&Wo()}}let Ue=null,zo=null;function us(e){const t=Ue;return Ue=e,zo=e&&e.type.__scopeId||null,t}function jr(e,t=Ue,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&li(-1);const i=us(t);let o;try{o=e(...r)}finally{us(i),s._d&&li(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function cs(e,t){if(Ue===null)return e;const n=Os(Ue),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=ne]=t[r];i&&(H(i)&&(i={mounted:i,updated:i}),i.deep&&ht(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Lt(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&($t(),at(l,n,8,[e.el,a,e,t]),jt())}}const Hl=Symbol("_vte"),ql=e=>e.__isTeleport;function Ir(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ir(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Qe(e,t){return H(e)?Re({name:e.name},t,{setup:e}):e}function Jo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fs(e,t,n,s,r=!1){if(B(e)){e.forEach((y,b)=>fs(y,t&&(B(t)?t[b]:t),n,s,r));return}if(xn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fs(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Os(s.component):s.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ne?a.refs={}:a.refs,f=a.setupState,h=Y(f),g=f===ne?()=>!1:y=>X(h,y);if(c!=null&&c!==l&&(fe(c)?(u[c]=null,g(c)&&(f[c]=null)):ke(c)&&(c.value=null)),H(l))Wn(l,a,12,[o,u]);else{const y=fe(l),b=ke(l);if(y||b){const k=()=>{if(e.f){const x=y?g(l)?f[l]:u[l]:l.value;r?B(x)&&Sr(x,i):B(x)?x.includes(i)||x.push(i):y?(u[l]=[i],g(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,g(l)&&(f[l]=o)):b&&(l.value=o,e.k&&(u[e.k]=o))};o?(k.id=-1,Ie(k,n)):k()}}}ws().requestIdleCallback;ws().cancelIdleCallback;const xn=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function Vl(e,t){Qo(e,"a",t)}function Kl(e,t){Qo(e,"da",t)}function Qo(e,t,n=Ee){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Rs(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Go(r.parent.vnode)&&Wl(s,t,n,r),r=r.parent}}function Wl(e,t,n,s){const r=Rs(t,e,s,!0);Yo(()=>{Sr(s[t],r)},n)}function Rs(e,t,n=Ee,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{$t();const a=zn(n),l=at(t,n,e,o);return a(),jt(),l});return s?r.unshift(i):r.push(i),i}}const mt=e=>(t,n=Ee)=>{(!Hn||e==="sp")&&Rs(e,(...s)=>t(...s),n)},zl=mt("bm"),Ts=mt("m"),Jl=mt("bu"),Gl=mt("u"),Ql=mt("bum"),Yo=mt("um"),Yl=mt("sp"),Xl=mt("rtg"),Zl=mt("rtc");function eu(e,t=Ee){Rs("ec",e,t)}const tu="components";function Lr(e,t){return su(tu,e,!0,t)||e}const nu=Symbol.for("v-ndc");function su(e,t,n=!0,s=!1){const r=Ue||Ee;if(r){const i=r.type;{const a=qu(i,!1);if(a&&(a===t||a===Ve(t)||a===vs(Ve(t))))return i}const o=Zr(r[e]||i[e],t)||Zr(r.appContext[e],t);return!o&&s?i:o}}function Zr(e,t){return e&&(e[t]||e[Ve(t)]||e[vs(Ve(t))])}function pt(e,t,n,s){let r;const i=n,o=B(e);if(o||fe(e)){const a=o&&ln(e);let l=!1;a&&(l=!qe(e),e=Ss(e)),r=new Array(e.length);for(let c=0,u=e.length;c<u;c++)r[c]=t(l?Se(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(le(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}const sr=e=>e?ba(e)?Os(e):sr(e.parent):null,An=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sr(e.parent),$root:e=>sr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zo(e),$forceUpdate:e=>e.f||(e.f=()=>{$r(e.update)}),$nextTick:e=>e.n||(e.n=qo.bind(e.proxy)),$watch:e=>ku.bind(e)}),Ns=(e,t)=>e!==ne&&!e.__isScriptSetup&&X(e,t),ru={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Ns(s,t))return o[t]=1,s[t];if(r!==ne&&X(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&X(c,t))return o[t]=3,i[t];if(n!==ne&&X(n,t))return o[t]=4,n[t];rr&&(o[t]=0)}}const u=An[t];let f,h;if(u)return t==="$attrs"&&we(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ne&&X(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,X(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return Ns(r,t)?(r[t]=n,!0):s!==ne&&X(s,t)?(s[t]=n,!0):X(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==ne&&X(e,o)||Ns(t,o)||(a=i[0])&&X(a,o)||X(s,o)||X(An,o)||X(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:X(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ei(e){return B(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let rr=!0;function iu(e){const t=Zo(e),n=e.proxy,s=e.ctx;rr=!1,t.beforeCreate&&ti(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:g,updated:y,activated:b,deactivated:k,beforeDestroy:x,beforeUnmount:I,destroyed:A,unmounted:C,render:M,renderTracked:de,renderTriggered:ae,errorCaptured:ye,serverPrefetch:Ye,expose:Me,inheritAttrs:Ke,components:be,directives:Fe,filters:It}=t;if(c&&ou(c,s,null),o)for(const J in o){const W=o[J];H(W)&&(s[J]=W.bind(n))}if(r){const J=r.call(n,n);le(J)&&(e.data=Es(J))}if(rr=!0,i)for(const J in i){const W=i[J],Ae=H(W)?W.bind(n,n):H(W.get)?W.get.bind(n,n):ot,Xe=!H(W)&&H(W.set)?W.set.bind(n):ot,Be=_e({get:Ae,set:Xe});Object.defineProperty(s,J,{enumerable:!0,configurable:!0,get:()=>Be.value,set:ve=>Be.value=ve})}if(a)for(const J in a)Xo(a[J],s,n,J);if(l){const J=H(l)?l.call(n):l;Reflect.ownKeys(J).forEach(W=>{rs(W,J[W])})}u&&ti(u,e,"c");function ce(J,W){B(W)?W.forEach(Ae=>J(Ae.bind(n))):W&&J(W.bind(n))}if(ce(zl,f),ce(Ts,h),ce(Jl,g),ce(Gl,y),ce(Vl,b),ce(Kl,k),ce(eu,ye),ce(Zl,de),ce(Xl,ae),ce(Ql,I),ce(Yo,C),ce(Yl,Ye),B(Me))if(Me.length){const J=e.exposed||(e.exposed={});Me.forEach(W=>{Object.defineProperty(J,W,{get:()=>n[W],set:Ae=>n[W]=Ae})})}else e.exposed||(e.exposed={});M&&e.render===ot&&(e.render=M),Ke!=null&&(e.inheritAttrs=Ke),be&&(e.components=be),Fe&&(e.directives=Fe),Ye&&Jo(e)}function ou(e,t,n=ot){B(e)&&(e=ir(e));for(const s in e){const r=e[s];let i;le(r)?"default"in r?i=Je(r.from||s,r.default,!0):i=Je(r.from||s):i=Je(r),ke(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function ti(e,t,n){at(B(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xo(e,t,n,s){let r=s.includes(".")?ha(n,s):()=>n[s];if(fe(e)){const i=t[e];H(i)&&$n(r,i)}else if(H(e))$n(r,e.bind(n));else if(le(e))if(B(e))e.forEach(i=>Xo(i,t,n,s));else{const i=H(e.handler)?e.handler.bind(n):t[e.handler];H(i)&&$n(r,i,e)}}function Zo(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>ds(l,c,o,!0)),ds(l,t,o)),le(t)&&i.set(t,l),l}function ds(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&ds(e,i,n,!0),r&&r.forEach(o=>ds(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=au[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const au={data:ni,props:si,emits:si,methods:Rn,computed:Rn,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:Rn,directives:Rn,watch:uu,provide:ni,inject:lu};function ni(e,t){return t?e?function(){return Re(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function lu(e,t){return Rn(ir(e),ir(t))}function ir(e){if(B(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function Rn(e,t){return e?Re(Object.create(null),e,t):t}function si(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:Re(Object.create(null),ei(e),ei(t??{})):t}function uu(e,t){if(!e)return t;if(!t)return e;const n=Re(Object.create(null),e);for(const s in t)n[s]=Pe(e[s],t[s]);return n}function ea(){return{app:null,config:{isNativeTag:tl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cu=0;function fu(e,t){return function(s,r=null){H(s)||(s=Re({},s)),r!=null&&!le(r)&&(r=null);const i=ea(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:cu++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Ku,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&H(u.install)?(o.add(u),u.install(c,...f)):H(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,h){if(!l){const g=c._ceVNode||ue(s,r);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(g,u,h),l=!0,c._container=u,u.__vue_app__=c,Os(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(at(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=cn;cn=c;try{return u()}finally{cn=f}}};return c}}let cn=null;function rs(e,t){if(Ee){let n=Ee.provides;const s=Ee.parent&&Ee.parent.provides;s===n&&(n=Ee.provides=Object.create(s)),n[e]=t}}function Je(e,t,n=!1){const s=Ee||Ue;if(s||cn){const r=cn?cn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&H(t)?t.call(s&&s.proxy):t}}const ta={},na=()=>Object.create(ta),sa=e=>Object.getPrototypeOf(e)===ta;function du(e,t,n,s=!1){const r={},i=na();e.propsDefaults=Object.create(null),ra(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Uo(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function hu(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=Y(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Ps(e.emitsOptions,h))continue;const g=t[h];if(l)if(X(i,h))g!==i[h]&&(i[h]=g,c=!0);else{const y=Ve(h);r[y]=or(l,a,y,g,e,!1)}else g!==i[h]&&(i[h]=g,c=!0)}}}else{ra(e,t,r,i)&&(c=!0);let u;for(const f in a)(!t||!X(t,f)&&((u=Vt(f))===f||!X(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=or(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!X(t,f))&&(delete i[f],c=!0)}c&&dt(e.attrs,"set","")}function ra(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Pn(l))continue;const c=t[l];let u;r&&X(r,u=Ve(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ps(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Y(n),c=a||ne;for(let u=0;u<i.length;u++){const f=i[u];n[f]=or(r,l,f,c[f],e,!X(c,f))}}return o}function or(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=X(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&H(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=zn(r);s=c[n]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Vt(n))&&(s=!0))}return s}const pu=new WeakMap;function ia(e,t,n=!1){const s=n?pu:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!H(e)){const u=f=>{l=!0;const[h,g]=ia(f,t,!0);Re(o,h),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return le(e)&&s.set(e,on),on;if(B(i))for(let u=0;u<i.length;u++){const f=Ve(i[u]);ri(f)&&(o[f]=ne)}else if(i)for(const u in i){const f=Ve(u);if(ri(f)){const h=i[u],g=o[f]=B(h)||H(h)?{type:h}:Re({},h),y=g.type;let b=!1,k=!0;if(B(y))for(let x=0;x<y.length;++x){const I=y[x],A=H(I)&&I.name;if(A==="Boolean"){b=!0;break}else A==="String"&&(k=!1)}else b=H(y)&&y.name==="Boolean";g[0]=b,g[1]=k,(b||X(g,"default"))&&a.push(f)}}const c=[o,a];return le(e)&&s.set(e,c),c}function ri(e){return e[0]!=="$"&&!Pn(e)}const oa=e=>e[0]==="_"||e==="$stable",Dr=e=>B(e)?e.map(it):[it(e)],gu=(e,t,n)=>{if(t._n)return t;const s=jr((...r)=>Dr(t(...r)),n);return s._c=!1,s},aa=(e,t,n)=>{const s=e._ctx;for(const r in e){if(oa(r))continue;const i=e[r];if(H(i))t[r]=gu(r,i,s);else if(i!=null){const o=Dr(i);t[r]=()=>o}}},la=(e,t)=>{const n=Dr(t);e.slots.default=()=>n},ua=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},mu=(e,t,n)=>{const s=e.slots=na();if(e.vnode.shapeFlag&32){const r=t._;r?(ua(s,t,n),n&&yo(s,"_",r,!0)):aa(t,s)}else t&&la(e,t)},_u=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=ne;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:ua(r,t,n):(i=!t.$stable,aa(t,r)),o=t}else t&&(la(e,t),o={default:1});if(i)for(const a in r)!oa(a)&&o[a]==null&&delete r[a]},Ie=Au;function yu(e){return bu(e)}function bu(e,t){const n=ws();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:g=ot,insertStaticContent:y}=e,b=(p,d,m,_=null,v=null,w=null,R=void 0,T=null,P=!!d.dynamicChildren)=>{if(p===d)return;p&&!vn(p,d)&&(_=S(p),ve(p,v,w,!0),p=null),d.patchFlag===-2&&(P=!1,d.dynamicChildren=null);const{type:E,ref:N,shapeFlag:j}=d;switch(E){case Cs:k(p,d,m,_);break;case qt:x(p,d,m,_);break;case Fs:p==null&&I(d,m,_,R);break;case he:be(p,d,m,_,v,w,R,T,P);break;default:j&1?M(p,d,m,_,v,w,R,T,P):j&6?Fe(p,d,m,_,v,w,R,T,P):(j&64||j&128)&&E.process(p,d,m,_,v,w,R,T,P,D)}N!=null&&v&&fs(N,p&&p.ref,w,d||p,!d)},k=(p,d,m,_)=>{if(p==null)s(d.el=a(d.children),m,_);else{const v=d.el=p.el;d.children!==p.children&&c(v,d.children)}},x=(p,d,m,_)=>{p==null?s(d.el=l(d.children||""),m,_):d.el=p.el},I=(p,d,m,_)=>{[p.el,p.anchor]=y(p.children,d,m,_,p.el,p.anchor)},A=({el:p,anchor:d},m,_)=>{let v;for(;p&&p!==d;)v=h(p),s(p,m,_),p=v;s(d,m,_)},C=({el:p,anchor:d})=>{let m;for(;p&&p!==d;)m=h(p),r(p),p=m;r(d)},M=(p,d,m,_,v,w,R,T,P)=>{d.type==="svg"?R="svg":d.type==="math"&&(R="mathml"),p==null?de(d,m,_,v,w,R,T,P):Ye(p,d,v,w,R,T,P)},de=(p,d,m,_,v,w,R,T)=>{let P,E;const{props:N,shapeFlag:j,transition:U,dirs:F}=p;if(P=p.el=o(p.type,w,N&&N.is,N),j&8?u(P,p.children):j&16&&ye(p.children,P,null,_,v,Ms(p,w),R,T),F&&Lt(p,null,_,"created"),ae(P,p,p.scopeId,R,_),N){for(const se in N)se!=="value"&&!Pn(se)&&i(P,se,null,N[se],w,_);"value"in N&&i(P,"value",null,N.value,w),(E=N.onVnodeBeforeMount)&&nt(E,_,p)}F&&Lt(p,null,_,"beforeMount");const K=vu(v,U);K&&U.beforeEnter(P),s(P,d,m),((E=N&&N.onVnodeMounted)||K||F)&&Ie(()=>{E&&nt(E,_,p),K&&U.enter(P),F&&Lt(p,null,_,"mounted")},v)},ae=(p,d,m,_,v)=>{if(m&&g(p,m),_)for(let w=0;w<_.length;w++)g(p,_[w]);if(v){let w=v.subTree;if(d===w||ga(w.type)&&(w.ssContent===d||w.ssFallback===d)){const R=v.vnode;ae(p,R,R.scopeId,R.slotScopeIds,v.parent)}}},ye=(p,d,m,_,v,w,R,T,P=0)=>{for(let E=P;E<p.length;E++){const N=p[E]=T?Tt(p[E]):it(p[E]);b(null,N,d,m,_,v,w,R,T)}},Ye=(p,d,m,_,v,w,R)=>{const T=d.el=p.el;let{patchFlag:P,dynamicChildren:E,dirs:N}=d;P|=p.patchFlag&16;const j=p.props||ne,U=d.props||ne;let F;if(m&&Dt(m,!1),(F=U.onVnodeBeforeUpdate)&&nt(F,m,d,p),N&&Lt(d,p,m,"beforeUpdate"),m&&Dt(m,!0),(j.innerHTML&&U.innerHTML==null||j.textContent&&U.textContent==null)&&u(T,""),E?Me(p.dynamicChildren,E,T,m,_,Ms(d,v),w):R||W(p,d,T,null,m,_,Ms(d,v),w,!1),P>0){if(P&16)Ke(T,j,U,m,v);else if(P&2&&j.class!==U.class&&i(T,"class",null,U.class,v),P&4&&i(T,"style",j.style,U.style,v),P&8){const K=d.dynamicProps;for(let se=0;se<K.length;se++){const Z=K[se],$e=j[Z],Oe=U[Z];(Oe!==$e||Z==="value")&&i(T,Z,$e,Oe,v,m)}}P&1&&p.children!==d.children&&u(T,d.children)}else!R&&E==null&&Ke(T,j,U,m,v);((F=U.onVnodeUpdated)||N)&&Ie(()=>{F&&nt(F,m,d,p),N&&Lt(d,p,m,"updated")},_)},Me=(p,d,m,_,v,w,R)=>{for(let T=0;T<d.length;T++){const P=p[T],E=d[T],N=P.el&&(P.type===he||!vn(P,E)||P.shapeFlag&70)?f(P.el):m;b(P,E,N,null,_,v,w,R,!0)}},Ke=(p,d,m,_,v)=>{if(d!==m){if(d!==ne)for(const w in d)!Pn(w)&&!(w in m)&&i(p,w,d[w],null,v,_);for(const w in m){if(Pn(w))continue;const R=m[w],T=d[w];R!==T&&w!=="value"&&i(p,w,T,R,v,_)}"value"in m&&i(p,"value",d.value,m.value,v)}},be=(p,d,m,_,v,w,R,T,P)=>{const E=d.el=p?p.el:a(""),N=d.anchor=p?p.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:F}=d;F&&(T=T?T.concat(F):F),p==null?(s(E,m,_),s(N,m,_),ye(d.children||[],m,N,v,w,R,T,P)):j>0&&j&64&&U&&p.dynamicChildren?(Me(p.dynamicChildren,U,m,v,w,R,T),(d.key!=null||v&&d===v.subTree)&&ca(p,d,!0)):W(p,d,m,N,v,w,R,T,P)},Fe=(p,d,m,_,v,w,R,T,P)=>{d.slotScopeIds=T,p==null?d.shapeFlag&512?v.ctx.activate(d,m,_,R,P):It(d,m,_,v,w,R,P):yt(p,d,P)},It=(p,d,m,_,v,w,R)=>{const T=p.component=Nu(p,_,v);if(Go(p)&&(T.ctx.renderer=D),Mu(T,!1,R),T.asyncDep){if(v&&v.registerDep(T,ce,R),!p.el){const P=T.subTree=ue(qt);x(null,P,d,m)}}else ce(T,p,d,m,v,w,R)},yt=(p,d,m)=>{const _=d.component=p.component;if(Ou(p,d,m))if(_.asyncDep&&!_.asyncResolved){J(_,d,m);return}else _.next=d,_.update();else d.el=p.el,_.vnode=d},ce=(p,d,m,_,v,w,R)=>{const T=()=>{if(p.isMounted){let{next:j,bu:U,u:F,parent:K,vnode:se}=p;{const et=fa(p);if(et){j&&(j.el=se.el,J(p,j,R)),et.asyncDep.then(()=>{p.isUnmounted||T()});return}}let Z=j,$e;Dt(p,!1),j?(j.el=se.el,J(p,j,R)):j=se,U&&ss(U),($e=j.props&&j.props.onVnodeBeforeUpdate)&&nt($e,K,j,se),Dt(p,!0);const Oe=oi(p),Ze=p.subTree;p.subTree=Oe,b(Ze,Oe,f(Ze.el),S(Ze),p,v,w),j.el=Oe.el,Z===null&&xu(p,Oe.el),F&&Ie(F,v),($e=j.props&&j.props.onVnodeUpdated)&&Ie(()=>nt($e,K,j,se),v)}else{let j;const{el:U,props:F}=d,{bm:K,m:se,parent:Z,root:$e,type:Oe}=p,Ze=xn(d);Dt(p,!1),K&&ss(K),!Ze&&(j=F&&F.onVnodeBeforeMount)&&nt(j,Z,d),Dt(p,!0);{$e.ce&&$e.ce._injectChildStyle(Oe);const et=p.subTree=oi(p);b(null,et,m,_,p,v,w),d.el=et.el}if(se&&Ie(se,v),!Ze&&(j=F&&F.onVnodeMounted)){const et=d;Ie(()=>nt(j,Z,et),v)}(d.shapeFlag&256||Z&&xn(Z.vnode)&&Z.vnode.shapeFlag&256)&&p.a&&Ie(p.a,v),p.isMounted=!0,d=m=_=null}};p.scope.on();const P=p.effect=new Eo(T);p.scope.off();const E=p.update=P.run.bind(P),N=p.job=P.runIfDirty.bind(P);N.i=p,N.id=p.uid,P.scheduler=()=>$r(N),Dt(p,!0),E()},J=(p,d,m)=>{d.component=p;const _=p.vnode.props;p.vnode=d,p.next=null,hu(p,d.props,_,m),_u(p,d.children,m),$t(),Xr(p),jt()},W=(p,d,m,_,v,w,R,T,P=!1)=>{const E=p&&p.children,N=p?p.shapeFlag:0,j=d.children,{patchFlag:U,shapeFlag:F}=d;if(U>0){if(U&128){Xe(E,j,m,_,v,w,R,T,P);return}else if(U&256){Ae(E,j,m,_,v,w,R,T,P);return}}F&8?(N&16&&Te(E,v,w),j!==E&&u(m,j)):N&16?F&16?Xe(E,j,m,_,v,w,R,T,P):Te(E,v,w,!0):(N&8&&u(m,""),F&16&&ye(j,m,_,v,w,R,T,P))},Ae=(p,d,m,_,v,w,R,T,P)=>{p=p||on,d=d||on;const E=p.length,N=d.length,j=Math.min(E,N);let U;for(U=0;U<j;U++){const F=d[U]=P?Tt(d[U]):it(d[U]);b(p[U],F,m,null,v,w,R,T,P)}E>N?Te(p,v,w,!0,!1,j):ye(d,m,_,v,w,R,T,P,j)},Xe=(p,d,m,_,v,w,R,T,P)=>{let E=0;const N=d.length;let j=p.length-1,U=N-1;for(;E<=j&&E<=U;){const F=p[E],K=d[E]=P?Tt(d[E]):it(d[E]);if(vn(F,K))b(F,K,m,null,v,w,R,T,P);else break;E++}for(;E<=j&&E<=U;){const F=p[j],K=d[U]=P?Tt(d[U]):it(d[U]);if(vn(F,K))b(F,K,m,null,v,w,R,T,P);else break;j--,U--}if(E>j){if(E<=U){const F=U+1,K=F<N?d[F].el:_;for(;E<=U;)b(null,d[E]=P?Tt(d[E]):it(d[E]),m,K,v,w,R,T,P),E++}}else if(E>U)for(;E<=j;)ve(p[E],v,w,!0),E++;else{const F=E,K=E,se=new Map;for(E=K;E<=U;E++){const je=d[E]=P?Tt(d[E]):it(d[E]);je.key!=null&&se.set(je.key,E)}let Z,$e=0;const Oe=U-K+1;let Ze=!1,et=0;const yn=new Array(Oe);for(E=0;E<Oe;E++)yn[E]=0;for(E=F;E<=j;E++){const je=p[E];if($e>=Oe){ve(je,v,w,!0);continue}let tt;if(je.key!=null)tt=se.get(je.key);else for(Z=K;Z<=U;Z++)if(yn[Z-K]===0&&vn(je,d[Z])){tt=Z;break}tt===void 0?ve(je,v,w,!0):(yn[tt-K]=E+1,tt>=et?et=tt:Ze=!0,b(je,d[tt],m,null,v,w,R,T,P),$e++)}const zr=Ze?wu(yn):on;for(Z=zr.length-1,E=Oe-1;E>=0;E--){const je=K+E,tt=d[je],Jr=je+1<N?d[je+1].el:_;yn[E]===0?b(null,tt,m,Jr,v,w,R,T,P):Ze&&(Z<0||E!==zr[Z]?Be(tt,m,Jr,2):Z--)}}},Be=(p,d,m,_,v=null)=>{const{el:w,type:R,transition:T,children:P,shapeFlag:E}=p;if(E&6){Be(p.component.subTree,d,m,_);return}if(E&128){p.suspense.move(d,m,_);return}if(E&64){R.move(p,d,m,D);return}if(R===he){s(w,d,m);for(let j=0;j<P.length;j++)Be(P[j],d,m,_);s(p.anchor,d,m);return}if(R===Fs){A(p,d,m);return}if(_!==2&&E&1&&T)if(_===0)T.beforeEnter(w),s(w,d,m),Ie(()=>T.enter(w),v);else{const{leave:j,delayLeave:U,afterLeave:F}=T,K=()=>s(w,d,m),se=()=>{j(w,()=>{K(),F&&F()})};U?U(w,K,se):se()}else s(w,d,m)},ve=(p,d,m,_=!1,v=!1)=>{const{type:w,props:R,ref:T,children:P,dynamicChildren:E,shapeFlag:N,patchFlag:j,dirs:U,cacheIndex:F}=p;if(j===-2&&(v=!1),T!=null&&fs(T,null,m,p,!0),F!=null&&(d.renderCache[F]=void 0),N&256){d.ctx.deactivate(p);return}const K=N&1&&U,se=!xn(p);let Z;if(se&&(Z=R&&R.onVnodeBeforeUnmount)&&nt(Z,d,p),N&6)wt(p.component,m,_);else{if(N&128){p.suspense.unmount(m,_);return}K&&Lt(p,null,d,"beforeUnmount"),N&64?p.type.remove(p,d,m,D,_):E&&!E.hasOnce&&(w!==he||j>0&&j&64)?Te(E,d,m,!1,!0):(w===he&&j&384||!v&&N&16)&&Te(P,d,m),_&&bt(p)}(se&&(Z=R&&R.onVnodeUnmounted)||K)&&Ie(()=>{Z&&nt(Z,d,p),K&&Lt(p,null,d,"unmounted")},m)},bt=p=>{const{type:d,el:m,anchor:_,transition:v}=p;if(d===he){vt(m,_);return}if(d===Fs){C(p);return}const w=()=>{r(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(p.shapeFlag&1&&v&&!v.persisted){const{leave:R,delayLeave:T}=v,P=()=>R(m,w);T?T(p.el,w,P):P()}else w()},vt=(p,d)=>{let m;for(;p!==d;)m=h(p),r(p),p=m;r(d)},wt=(p,d,m)=>{const{bum:_,scope:v,job:w,subTree:R,um:T,m:P,a:E}=p;ii(P),ii(E),_&&ss(_),v.stop(),w&&(w.flags|=8,ve(R,p,d,m)),T&&Ie(T,d),Ie(()=>{p.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Te=(p,d,m,_=!1,v=!1,w=0)=>{for(let R=w;R<p.length;R++)ve(p[R],d,m,_,v)},S=p=>{if(p.shapeFlag&6)return S(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const d=h(p.anchor||p.el),m=d&&d[Hl];return m?h(m):d};let $=!1;const O=(p,d,m)=>{p==null?d._vnode&&ve(d._vnode,null,null,!0):b(d._vnode||null,p,d,null,null,null,m),d._vnode=p,$||($=!0,Xr(),Ko(),$=!1)},D={p:b,um:ve,m:Be,r:bt,mt:It,mc:ye,pc:W,pbc:Me,n:S,o:e};return{render:O,hydrate:void 0,createApp:fu(O)}}function Ms({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Dt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ca(e,t,n=!1){const s=e.children,r=t.children;if(B(s)&&B(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Tt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ca(o,a)),a.type===Cs&&(a.el=o.el)}}function wu(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function fa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fa(t)}function ii(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Su=Symbol.for("v-scx"),Eu=()=>Je(Su);function $n(e,t,n){return da(e,t,n)}function da(e,t,n=ne){const{immediate:s,deep:r,flush:i,once:o}=n,a=Re({},n),l=t&&s||!t&&i!=="post";let c;if(Hn){if(i==="sync"){const g=Eu();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=ot,g.resume=ot,g.pause=ot,g}}const u=Ee;a.call=(g,y,b)=>at(g,u,y,b);let f=!1;i==="post"?a.scheduler=g=>{Ie(g,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,y)=>{y?g():$r(g)}),a.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=Nl(e,t,a);return Hn&&(c?c.push(h):l&&h()),h}function ku(e,t,n){const s=this.proxy,r=fe(e)?e.includes(".")?ha(s,e):()=>s[e]:e.bind(s,s);let i;H(t)?i=t:(i=t.handler,n=t);const o=zn(this),a=da(r,i.bind(s),n);return o(),a}function ha(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Ru=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ve(t)}Modifiers`]||e[`${Vt(t)}Modifiers`];function Tu(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ne;let r=n;const i=t.startsWith("update:"),o=i&&Ru(s,t.slice(7));o&&(o.trim&&(r=n.map(u=>fe(u)?u.trim():u)),o.number&&(r=n.map(Ys)));let a,l=s[a=js(t)]||s[a=js(Ve(t))];!l&&i&&(l=s[a=js(Vt(t))]),l&&at(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,at(c,e,6,r)}}function pa(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!H(e)){const l=c=>{const u=pa(c,t,!0);u&&(a=!0,Re(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(le(e)&&s.set(e,null),null):(B(i)?i.forEach(l=>o[l]=null):Re(o,i),le(e)&&s.set(e,o),o)}function Ps(e,t){return!e||!_s(t)?!1:(t=t.slice(2).replace(/Once$/,""),X(e,t[0].toLowerCase()+t.slice(1))||X(e,Vt(t))||X(e,t))}function oi(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:g,ctx:y,inheritAttrs:b}=e,k=us(e);let x,I;try{if(n.shapeFlag&4){const C=r||s,M=C;x=it(c.call(M,C,u,f,g,h,y)),I=a}else{const C=t;x=it(C.length>1?C(f,{attrs:a,slots:o,emit:l}):C(f,null)),I=t.props?a:Pu(a)}}catch(C){jn.length=0,ks(C,e,1),x=ue(qt)}let A=x;if(I&&b!==!1){const C=Object.keys(I),{shapeFlag:M}=A;C.length&&M&7&&(i&&C.some(wr)&&(I=Cu(I,i)),A=dn(A,I,!1,!0))}return n.dirs&&(A=dn(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Ir(A,n.transition),x=A,us(k),x}const Pu=e=>{let t;for(const n in e)(n==="class"||n==="style"||_s(n))&&((t||(t={}))[n]=e[n]);return t},Cu=(e,t)=>{const n={};for(const s in e)(!wr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Ou(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ai(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!Ps(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ai(s,o,c):!0:!!o;return!1}function ai(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Ps(n,i))return!0}return!1}function xu({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ga=e=>e.__isSuspense;function Au(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):Bl(e)}const he=Symbol.for("v-fgt"),Cs=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),Fs=Symbol.for("v-stc"),jn=[];let Ne=null;function z(e=!1){jn.push(Ne=e?null:[])}function $u(){jn.pop(),Ne=jn[jn.length-1]||null}let Bn=1;function li(e,t=!1){Bn+=e,e<0&&Ne&&t&&(Ne.hasOnce=!0)}function ma(e){return e.dynamicChildren=Bn>0?Ne||on:null,$u(),Bn>0&&Ne&&Ne.push(e),e}function te(e,t,n,s,r,i){return ma(L(e,t,n,s,r,i,!0))}function _a(e,t,n,s,r){return ma(ue(e,t,n,s,r,!0))}function hs(e){return e?e.__v_isVNode===!0:!1}function vn(e,t){return e.type===t.type&&e.key===t.key}const ya=({key:e})=>e??null,is=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||ke(e)||H(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function L(e,t=null,n=null,s=0,r=null,i=e===he?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ya(t),ref:t&&is(t),scopeId:zo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ue};return a?(Nr(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=fe(n)?8:16),Bn>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const ue=ju;function ju(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===nu)&&(e=qt),hs(e)){const a=dn(e,t,!0);return n&&Nr(a,n),Bn>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(e)]=a:Ne.push(a)),a.patchFlag=-2,a}if(Vu(e)&&(e=e.__vccOpts),t){t=Iu(t);let{class:a,style:l}=t;a&&!fe(a)&&(t.class=gt(a)),le(l)&&(Ar(l)&&!B(l)&&(l=Re({},l)),t.style=kr(l))}const o=fe(e)?1:ga(e)?128:ql(e)?64:le(e)?4:H(e)?2:0;return L(e,t,n,s,r,o,i,!0)}function Iu(e){return e?Ar(e)||sa(e)?Re({},e):e:null}function dn(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Lu(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ya(c),ref:t&&t.ref?n&&i?B(i)?i.concat(is(t)):[i,is(t)]:is(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Ir(u,l.clone(u)),u}function Ur(e=" ",t=0){return ue(Cs,null,e,t)}function ar(e="",t=!1){return t?(z(),_a(qt,null,e)):ue(qt,null,e)}function it(e){return e==null||typeof e=="boolean"?ue(qt):B(e)?ue(he,null,e.slice()):hs(e)?Tt(e):ue(Cs,null,String(e))}function Tt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function Nr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(B(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Nr(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!sa(t)?t._ctx=Ue:r===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),s&64?(n=16,t=[Ur(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=gt([t.class,s.class]));else if(r==="style")t.style=kr([t.style,s.style]);else if(_s(r)){const i=t[r],o=s[r];o&&i!==o&&!(B(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function nt(e,t,n,s=null){at(e,t,7,[n,s])}const Du=ea();let Uu=0;function Nu(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Du,i={uid:Uu++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new So(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ia(s,r),emitsOptions:pa(s,r),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:s.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Tu.bind(null,i),e.ce&&e.ce(i),i}let Ee=null,ps,lr;{const e=ws(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};ps=t("__VUE_INSTANCE_SETTERS__",n=>Ee=n),lr=t("__VUE_SSR_SETTERS__",n=>Hn=n)}const zn=e=>{const t=Ee;return ps(e),e.scope.on(),()=>{e.scope.off(),ps(t)}},ui=()=>{Ee&&Ee.scope.off(),ps(null)};function ba(e){return e.vnode.shapeFlag&4}let Hn=!1;function Mu(e,t=!1,n=!1){t&&lr(t);const{props:s,children:r}=e.vnode,i=ba(e);du(e,s,i,t),mu(e,r,n);const o=i?Fu(e,t):void 0;return t&&lr(!1),o}function Fu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ru);const{setup:s}=n;if(s){$t();const r=e.setupContext=s.length>1?Hu(e):null,i=zn(e),o=Wn(s,e,0,[e.props,r]),a=go(o);if(jt(),i(),(a||e.sp)&&!xn(e)&&Jo(e),a){if(o.then(ui,ui),t)return o.then(l=>{ci(e,l)}).catch(l=>{ks(l,e,0)});e.asyncDep=o}else ci(e,o)}else va(e)}function ci(e,t,n){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=Bo(t)),va(e)}function va(e,t,n){const s=e.type;e.render||(e.render=s.render||ot);{const r=zn(e);$t();try{iu(e)}finally{jt(),r()}}}const Bu={get(e,t){return we(e,"get",""),e[t]}};function Hu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Bu),slots:e.slots,emit:e.emit,expose:t}}function Os(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Bo(Mo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in An)return An[n](e)},has(t,n){return n in t||n in An}})):e.proxy}function qu(e,t=!0){return H(e)?e.displayName||e.name:e.name||t&&e.__name}function Vu(e){return H(e)&&"__vccOpts"in e}const _e=(e,t)=>Dl(e,t,Hn);function wa(e,t,n){const s=arguments.length;return s===2?le(t)&&!B(t)?hs(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&hs(n)&&(n=[n]),ue(e,t,n))}const Ku="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ur;const fi=typeof window<"u"&&window.trustedTypes;if(fi)try{ur=fi.createPolicy("vue",{createHTML:e=>e})}catch{}const Sa=ur?e=>ur.createHTML(e):e=>e,Wu="http://www.w3.org/2000/svg",zu="http://www.w3.org/1998/Math/MathML",ct=typeof document<"u"?document:null,di=ct&&ct.createElement("template"),Ju={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?ct.createElementNS(Wu,e):t==="mathml"?ct.createElementNS(zu,e):n?ct.createElement(e,{is:n}):ct.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>ct.createTextNode(e),createComment:e=>ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{di.innerHTML=Sa(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=di.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gu=Symbol("_vtc");function Qu(e,t,n){const s=e[Gu];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const hi=Symbol("_vod"),Yu=Symbol("_vsh"),Xu=Symbol(""),Zu=/(^|;)\s*display\s*:/;function ec(e,t,n){const s=e.style,r=fe(n);let i=!1;if(n&&!r){if(t)if(fe(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&os(s,a,"")}else for(const o in t)n[o]==null&&os(s,o,"");for(const o in n)o==="display"&&(i=!0),os(s,o,n[o])}else if(r){if(t!==n){const o=s[Xu];o&&(n+=";"+o),s.cssText=n,i=Zu.test(n)}}else t&&e.removeAttribute("style");hi in e&&(e[hi]=i?s.display:"",e[Yu]&&(s.display="none"))}const pi=/\s*!important$/;function os(e,t,n){if(B(n))n.forEach(s=>os(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=tc(e,t);pi.test(n)?e.setProperty(Vt(s),n.replace(pi,""),"important"):e[s]=n}}const gi=["Webkit","Moz","ms"],Bs={};function tc(e,t){const n=Bs[t];if(n)return n;let s=Ve(t);if(s!=="filter"&&s in e)return Bs[t]=s;s=vs(s);for(let r=0;r<gi.length;r++){const i=gi[r]+s;if(i in e)return Bs[t]=i}return t}const mi="http://www.w3.org/1999/xlink";function _i(e,t,n,s,r,i=fl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(mi,t.slice(6,t.length)):e.setAttributeNS(mi,t,n):n==null||i&&!bo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":At(n)?String(n):n)}function yi(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Sa(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=bo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function sn(e,t,n,s){e.addEventListener(t,n,s)}function nc(e,t,n,s){e.removeEventListener(t,n,s)}const bi=Symbol("_vei");function sc(e,t,n,s,r=null){const i=e[bi]||(e[bi]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=rc(t);if(s){const c=i[t]=ac(s,r);sn(e,a,c,l)}else o&&(nc(e,a,o,l),i[t]=void 0)}}const vi=/(?:Once|Passive|Capture)$/;function rc(e){let t;if(vi.test(e)){t={};let s;for(;s=e.match(vi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Vt(e.slice(2)),t]}let Hs=0;const ic=Promise.resolve(),oc=()=>Hs||(ic.then(()=>Hs=0),Hs=Date.now());function ac(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;at(lc(s,n.value),t,5,[s])};return n.value=e,n.attached=oc(),n}function lc(e,t){if(B(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const wi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uc=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?Qu(e,s,o):t==="style"?ec(e,n,s):_s(t)?wr(t)||sc(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):cc(e,t,s,o))?(yi(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_i(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(s))?yi(e,Ve(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),_i(e,t,s,o))};function cc(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&wi(t)&&H(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return wi(t)&&fe(n)?!1:t in e}const Si=e=>{const t=e.props["onUpdate:modelValue"]||!1;return B(t)?n=>ss(t,n):t};function fc(e){e.target.composing=!0}function Ei(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qs=Symbol("_assign"),gs={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[qs]=Si(r);const i=s||r.props&&r.props.type==="number";sn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Ys(a)),e[qs](a)}),n&&sn(e,"change",()=>{e.value=e.value.trim()}),t||(sn(e,"compositionstart",fc),sn(e,"compositionend",Ei),sn(e,"change",Ei))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(e[qs]=Si(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ys(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},dc=Re({patchProp:uc},Ju);let ki;function hc(){return ki||(ki=yu(dc))}const pc=(...e)=>{const t=hc().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=mc(s);if(!r)return;const i=t._component;!H(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,gc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function gc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function mc(e){return fe(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const _c=Symbol();var Ri;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ri||(Ri={}));function yc(){const e=dl(!0),t=e.run(()=>ie({}));let n=[],s=[];const r=Mo({install(i){r._a=i,i.provide(_c,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rn=typeof document<"u";function Ea(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ea(e.default)}const Q=Object.assign;function Vs(e,t){const n={};for(const s in t){const r=t[s];n[s]=Ge(r)?r.map(e):e(r)}return n}const In=()=>{},Ge=Array.isArray,ka=/#/g,vc=/&/g,wc=/\//g,Sc=/=/g,Ec=/\?/g,Ra=/\+/g,kc=/%5B/g,Rc=/%5D/g,Ta=/%5E/g,Tc=/%60/g,Pa=/%7B/g,Pc=/%7C/g,Ca=/%7D/g,Cc=/%20/g;function Mr(e){return encodeURI(""+e).replace(Pc,"|").replace(kc,"[").replace(Rc,"]")}function Oc(e){return Mr(e).replace(Pa,"{").replace(Ca,"}").replace(Ta,"^")}function cr(e){return Mr(e).replace(Ra,"%2B").replace(Cc,"+").replace(ka,"%23").replace(vc,"%26").replace(Tc,"`").replace(Pa,"{").replace(Ca,"}").replace(Ta,"^")}function xc(e){return cr(e).replace(Sc,"%3D")}function Ac(e){return Mr(e).replace(ka,"%23").replace(Ec,"%3F")}function $c(e){return e==null?"":Ac(e).replace(wc,"%2F")}function qn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const jc=/\/$/,Ic=e=>e.replace(jc,"");function Ks(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Nc(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:qn(o)}}function Lc(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ti(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Dc(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&hn(t.matched[s],n.matched[r])&&Oa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Oa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Uc(e[n],t[n]))return!1;return!0}function Uc(e,t){return Ge(e)?Pi(e,t):Ge(t)?Pi(t,e):e===t}function Pi(e,t){return Ge(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Nc(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vn;(function(e){e.pop="pop",e.push="push"})(Vn||(Vn={}));var Ln;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ln||(Ln={}));function Mc(e){if(!e)if(rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ic(e)}const Fc=/^[^#]+#/;function Bc(e,t){return e.replace(Fc,"#")+t}function Hc(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const xs=()=>({left:window.scrollX,top:window.scrollY});function qc(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Hc(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ci(e,t){return(history.state?history.state.position-t:-1)+e}const fr=new Map;function Vc(e,t){fr.set(e,t)}function Kc(e){const t=fr.get(e);return fr.delete(e),t}let Wc=()=>location.protocol+"//"+location.host;function xa(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ti(l,"")}return Ti(n,e)+s+r}function zc(e,t,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const g=xa(e,location),y=n.value,b=t.value;let k=0;if(h){if(n.value=g,t.value=h,o&&o===y){o=null;return}k=b?h.position-b.position:0}else s(g);r.forEach(x=>{x(n.value,y,{delta:k,type:Vn.pop,direction:k?k>0?Ln.forward:Ln.back:Ln.unknown})})};function l(){o=n.value}function c(h){r.push(h);const g=()=>{const y=r.indexOf(h);y>-1&&r.splice(y,1)};return i.push(g),g}function u(){const{history:h}=window;h.state&&h.replaceState(Q({},h.state,{scroll:xs()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Oi(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?xs():null}}function Jc(e){const{history:t,location:n}=window,s={value:xa(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Wc()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(g){console.error(g),n[u?"replace":"assign"](h)}}function o(l,c){const u=Q({},t.state,Oi(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Q({},r.value,t.state,{forward:l,scroll:xs()});i(u.current,u,!0);const f=Q({},Oi(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Gc(e){e=Mc(e);const t=Jc(e),n=zc(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Q({location:"",base:e,go:s,createHref:Bc.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Qc(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Gc(e)}function Yc(e){return typeof e=="string"||e&&typeof e=="object"}function Aa(e){return typeof e=="string"||typeof e=="symbol"}const $a=Symbol("");var xi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xi||(xi={}));function pn(e,t){return Q(new Error,{type:e,[$a]:!0},t)}function ut(e,t){return e instanceof Error&&$a in e&&(t==null||!!(e.type&t))}const Ai="[^/]+?",Xc={sensitive:!1,strict:!1,start:!0,end:!0},Zc=/[.+*?^${}()[\]/\\]/g;function ef(e,t){const n=Q({},Xc,t),s=[];let r=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let g=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Zc,"\\$&"),g+=40;else if(h.type===1){const{value:y,repeatable:b,optional:k,regexp:x}=h;i.push({name:y,repeatable:b,optional:k});const I=x||Ai;if(I!==Ai){g+=10;try{new RegExp(`(${I})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${y}" (${I}): `+C.message)}}let A=b?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;f||(A=k&&c.length<2?`(?:/${A})`:"/"+A),k&&(A+="?"),r+=A,g+=20,k&&(g+=-8),b&&(g+=-20),I===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const g=u[h]||"",y=i[h-1];f[y.name]=g&&y.repeatable?g.split("/"):g}return f}function l(c){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of h)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:b,optional:k}=g,x=y in c?c[y]:"";if(Ge(x)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const I=Ge(x)?x.join("/"):x;if(!I)if(k)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=I}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function tf(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ja(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=tf(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if($i(s))return 1;if($i(r))return-1}return r.length-s.length}function $i(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const nf={type:0,value:""},sf=/[a-zA-Z0-9_]/;function rf(e){if(!e)return[[]];if(e==="/")return[[nf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:sf.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function of(e,t,n){const s=ef(rf(e.path),n),r=Q(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function af(e,t){const n=[],s=new Map;t=Di({strict:!1,end:!0,sensitive:!1},t);function r(f){return s.get(f)}function i(f,h,g){const y=!g,b=Ii(f);b.aliasOf=g&&g.record;const k=Di(t,f),x=[b];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of C)x.push(Ii(Q({},b,{components:g?g.record.components:b.components,path:M,aliasOf:g?g.record:b})))}let I,A;for(const C of x){const{path:M}=C;if(h&&M[0]!=="/"){const de=h.record.path,ae=de[de.length-1]==="/"?"":"/";C.path=h.record.path+(M&&ae+M)}if(I=of(C,h,k),g?g.alias.push(I):(A=A||I,A!==I&&A.alias.push(I),y&&f.name&&!Li(I)&&o(f.name)),Ia(I)&&l(I),b.children){const de=b.children;for(let ae=0;ae<de.length;ae++)i(de[ae],I,g&&g.children[ae])}g=g||I}return A?()=>{o(A)}:In}function o(f){if(Aa(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=cf(f,n);n.splice(h,0,f),f.record.name&&!Li(f)&&s.set(f.record.name,f)}function c(f,h){let g,y={},b,k;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw pn(1,{location:f});k=g.record.name,y=Q(ji(h.params,g.keys.filter(A=>!A.optional).concat(g.parent?g.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&ji(f.params,g.keys.map(A=>A.name))),b=g.stringify(y)}else if(f.path!=null)b=f.path,g=n.find(A=>A.re.test(b)),g&&(y=g.parse(b),k=g.record.name);else{if(g=h.name?s.get(h.name):n.find(A=>A.re.test(h.path)),!g)throw pn(1,{location:f,currentLocation:h});k=g.record.name,y=Q({},h.params,f.params),b=g.stringify(y)}const x=[];let I=g;for(;I;)x.unshift(I.record),I=I.parent;return{name:k,path:b,params:y,matched:x,meta:uf(x)}}e.forEach(f=>i(f));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function ji(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Ii(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:lf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function lf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Li(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uf(e){return e.reduce((t,n)=>Q(t,n.meta),{})}function Di(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function cf(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;ja(e,t[i])<0?s=i:n=i+1}const r=ff(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function ff(e){let t=e;for(;t=t.parent;)if(Ia(t)&&ja(e,t)===0)return t}function Ia({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function df(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Ra," "),o=i.indexOf("="),a=qn(o<0?i:i.slice(0,o)),l=o<0?null:qn(i.slice(o+1));if(a in t){let c=t[a];Ge(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Ui(e){let t="";for(let n in e){const s=e[n];if(n=xc(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ge(s)?s.map(i=>i&&cr(i)):[s&&cr(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function hf(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Ge(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const pf=Symbol(""),Ni=Symbol(""),As=Symbol(""),Fr=Symbol(""),dr=Symbol("");function wn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Pt(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(pn(4,{from:n,to:t})):h instanceof Error?l(h):Yc(h)?l(pn(2,{from:t,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(s&&s.instances[r],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function Ws(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ea(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Pt(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=bc(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const g=(f.__vccOpts||f)[t];return g&&Pt(g,n,s,o,a,r)()}))}}return i}function Mi(e){const t=Je(As),n=Je(Fr),s=_e(()=>{const l=He(e.to);return t.resolve(l)}),r=_e(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(hn.bind(null,u));if(h>-1)return h;const g=Fi(l[c-2]);return c>1&&Fi(u)===g&&f[f.length-1].path!==g?f.findIndex(hn.bind(null,l[c-2])):h}),i=_e(()=>r.value>-1&&bf(n.params,s.value.params)),o=_e(()=>r.value>-1&&r.value===n.matched.length-1&&Oa(n.params,s.value.params));function a(l={}){if(yf(l)){const c=t[He(e.replace)?"replace":"push"](He(e.to)).catch(In);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:_e(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function gf(e){return e.length===1?e[0]:e}const mf=Qe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Mi,setup(e,{slots:t}){const n=Es(Mi(e)),{options:s}=Je(As),r=_e(()=>({[Bi(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Bi(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&gf(t.default(n));return e.custom?i:wa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),_f=mf;function yf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function bf(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ge(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Fi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bi=(e,t,n)=>e??t??n,vf=Qe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Je(dr),r=_e(()=>e.route||s.value),i=Je(Ni,0),o=_e(()=>{let c=He(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=_e(()=>r.value.matched[o.value]);rs(Ni,_e(()=>o.value+1)),rs(pf,a),rs(dr,r);const l=ie();return $n(()=>[l.value,a.value,e.name],([c,u,f],[h,g,y])=>{u&&(u.instances[f]=c,g&&g!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!hn(u,g)||!h)&&(u.enterCallbacks[f]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,h=f&&f.components[u];if(!h)return Hi(n.default,{Component:h,route:c});const g=f.props[u],y=g?g===!0?c.params:typeof g=="function"?g(c):g:null,k=wa(h,Q({},y,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Hi(n.default,{Component:k,route:c})||k}}});function Hi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const wf=vf;function Sf(e){const t=af(e.routes,e),n=e.parseQuery||df,s=e.stringifyQuery||Ui,r=e.history,i=wn(),o=wn(),a=wn(),l=$l(St);let c=St;rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Vs.bind(null,S=>""+S),f=Vs.bind(null,$c),h=Vs.bind(null,qn);function g(S,$){let O,D;return Aa(S)?(O=t.getRecordMatcher(S),D=$):D=S,t.addRoute(D,O)}function y(S){const $=t.getRecordMatcher(S);$&&t.removeRoute($)}function b(){return t.getRoutes().map(S=>S.record)}function k(S){return!!t.getRecordMatcher(S)}function x(S,$){if($=Q({},$||l.value),typeof S=="string"){const m=Ks(n,S,$.path),_=t.resolve({path:m.path},$),v=r.createHref(m.fullPath);return Q(m,_,{params:h(_.params),hash:qn(m.hash),redirectedFrom:void 0,href:v})}let O;if(S.path!=null)O=Q({},S,{path:Ks(n,S.path,$.path).path});else{const m=Q({},S.params);for(const _ in m)m[_]==null&&delete m[_];O=Q({},S,{params:f(m)}),$.params=f($.params)}const D=t.resolve(O,$),G=S.hash||"";D.params=u(h(D.params));const p=Lc(s,Q({},S,{hash:Oc(G),path:D.path})),d=r.createHref(p);return Q({fullPath:p,hash:G,query:s===Ui?hf(S.query):S.query||{}},D,{redirectedFrom:void 0,href:d})}function I(S){return typeof S=="string"?Ks(n,S,l.value.path):Q({},S)}function A(S,$){if(c!==S)return pn(8,{from:$,to:S})}function C(S){return ae(S)}function M(S){return C(Q(I(S),{replace:!0}))}function de(S){const $=S.matched[S.matched.length-1];if($&&$.redirect){const{redirect:O}=$;let D=typeof O=="function"?O(S):O;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=I(D):{path:D},D.params={}),Q({query:S.query,hash:S.hash,params:D.path!=null?{}:S.params},D)}}function ae(S,$){const O=c=x(S),D=l.value,G=S.state,p=S.force,d=S.replace===!0,m=de(O);if(m)return ae(Q(I(m),{state:typeof m=="object"?Q({},G,m.state):G,force:p,replace:d}),$||O);const _=O;_.redirectedFrom=$;let v;return!p&&Dc(s,D,O)&&(v=pn(16,{to:_,from:D}),Be(D,D,!0,!1)),(v?Promise.resolve(v):Me(_,D)).catch(w=>ut(w)?ut(w,2)?w:Xe(w):W(w,_,D)).then(w=>{if(w){if(ut(w,2))return ae(Q({replace:d},I(w.to),{state:typeof w.to=="object"?Q({},G,w.to.state):G,force:p}),$||_)}else w=be(_,D,!0,d,G);return Ke(_,D,w),w})}function ye(S,$){const O=A(S,$);return O?Promise.reject(O):Promise.resolve()}function Ye(S){const $=vt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(S):S()}function Me(S,$){let O;const[D,G,p]=Ef(S,$);O=Ws(D.reverse(),"beforeRouteLeave",S,$);for(const m of D)m.leaveGuards.forEach(_=>{O.push(Pt(_,S,$))});const d=ye.bind(null,S,$);return O.push(d),Te(O).then(()=>{O=[];for(const m of i.list())O.push(Pt(m,S,$));return O.push(d),Te(O)}).then(()=>{O=Ws(G,"beforeRouteUpdate",S,$);for(const m of G)m.updateGuards.forEach(_=>{O.push(Pt(_,S,$))});return O.push(d),Te(O)}).then(()=>{O=[];for(const m of p)if(m.beforeEnter)if(Ge(m.beforeEnter))for(const _ of m.beforeEnter)O.push(Pt(_,S,$));else O.push(Pt(m.beforeEnter,S,$));return O.push(d),Te(O)}).then(()=>(S.matched.forEach(m=>m.enterCallbacks={}),O=Ws(p,"beforeRouteEnter",S,$,Ye),O.push(d),Te(O))).then(()=>{O=[];for(const m of o.list())O.push(Pt(m,S,$));return O.push(d),Te(O)}).catch(m=>ut(m,8)?m:Promise.reject(m))}function Ke(S,$,O){a.list().forEach(D=>Ye(()=>D(S,$,O)))}function be(S,$,O,D,G){const p=A(S,$);if(p)return p;const d=$===St,m=rn?history.state:{};O&&(D||d?r.replace(S.fullPath,Q({scroll:d&&m&&m.scroll},G)):r.push(S.fullPath,G)),l.value=S,Be(S,$,O,d),Xe()}let Fe;function It(){Fe||(Fe=r.listen((S,$,O)=>{if(!wt.listening)return;const D=x(S),G=de(D);if(G){ae(Q(G,{replace:!0,force:!0}),D).catch(In);return}c=D;const p=l.value;rn&&Vc(Ci(p.fullPath,O.delta),xs()),Me(D,p).catch(d=>ut(d,12)?d:ut(d,2)?(ae(Q(I(d.to),{force:!0}),D).then(m=>{ut(m,20)&&!O.delta&&O.type===Vn.pop&&r.go(-1,!1)}).catch(In),Promise.reject()):(O.delta&&r.go(-O.delta,!1),W(d,D,p))).then(d=>{d=d||be(D,p,!1),d&&(O.delta&&!ut(d,8)?r.go(-O.delta,!1):O.type===Vn.pop&&ut(d,20)&&r.go(-1,!1)),Ke(D,p,d)}).catch(In)}))}let yt=wn(),ce=wn(),J;function W(S,$,O){Xe(S);const D=ce.list();return D.length?D.forEach(G=>G(S,$,O)):console.error(S),Promise.reject(S)}function Ae(){return J&&l.value!==St?Promise.resolve():new Promise((S,$)=>{yt.add([S,$])})}function Xe(S){return J||(J=!S,It(),yt.list().forEach(([$,O])=>S?O(S):$()),yt.reset()),S}function Be(S,$,O,D){const{scrollBehavior:G}=e;if(!rn||!G)return Promise.resolve();const p=!O&&Kc(Ci(S.fullPath,0))||(D||!O)&&history.state&&history.state.scroll||null;return qo().then(()=>G(S,$,p)).then(d=>d&&qc(d)).catch(d=>W(d,S,$))}const ve=S=>r.go(S);let bt;const vt=new Set,wt={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:b,resolve:x,options:e,push:C,replace:M,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:Ae,install(S){const $=this;S.component("RouterLink",_f),S.component("RouterView",wf),S.config.globalProperties.$router=$,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>He(l)}),rn&&!bt&&l.value===St&&(bt=!0,C(r.location).catch(G=>{}));const O={};for(const G in St)Object.defineProperty(O,G,{get:()=>l.value[G],enumerable:!0});S.provide(As,$),S.provide(Fr,Uo(O)),S.provide(dr,l);const D=S.unmount;vt.add(S),S.unmount=function(){vt.delete(S),vt.size<1&&(c=St,Fe&&Fe(),Fe=null,l.value=St,bt=!1,J=!1),D()}}};function Te(S){return S.reduce(($,O)=>$.then(()=>Ye(O)),Promise.resolve())}return wt}function Ef(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>hn(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>hn(c,l))||r.push(l))}return[n,s,r]}function La(){return Je(As)}function kf(e){return Je(Fr)}const Rf="modulepreload",Tf=function(e){return"/round-log/"+e},qi={},gn=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Tf(l),l in qi)return;qi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Rf,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Pf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>_n);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Br extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Cf extends Br{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Of extends Br{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xf extends Br{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hr;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hr||(hr={}));var Af=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};class $f{constructor(t,{headers:n={},customFetch:s,region:r=hr.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Pf(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Af(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(y=>{throw new Cf(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Of(u);if(!u.ok)throw new xf(u);let h=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield u.json():h==="application/octet-stream"?g=yield u.blob():h==="text/event-stream"?g=u:h==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}function jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function If(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var pe={},Jt={},Gt={},Qt={},Yt={},Xt={},Lf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=Lf();const Df=mn.fetch,Da=mn.fetch.bind(mn),Ua=mn.Headers,Uf=mn.Request,Nf=mn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ua,Request:Uf,Response:Nf,default:Da,fetch:Df},Symbol.toStringTag,{value:"Module"})),Mf=If(_n);var Xn={},Vi;function Na(){if(Vi)return Xn;Vi=1,Object.defineProperty(Xn,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xn.default=e,Xn}var Ki;function Ma(){if(Ki)return Xt;Ki=1;var e=Xt&&Xt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xt,"__esModule",{value:!0});const t=e(Mf),n=e(Na());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,h;let g=null,y=null,b=null,k=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=M:y=JSON.parse(M))}const A=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),C=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,k=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const A=await c.text();try{g=JSON.parse(A),Array.isArray(g)&&c.status===404&&(y=[],g=null,k=200,x="OK")}catch{c.status===404&&A===""?(k=204,x="No Content"):g={message:A}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,k=200,x="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:y,count:b,status:k,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Xt.default=s,Xt}var Wi;function Fa(){if(Wi)return Yt;Wi=1;var e=Yt&&Yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(Ma());class n extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(c,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`,c==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Yt.default=n,Yt}var zi;function Hr(){if(zi)return Qt;zi=1;var e=Qt&&Qt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(Fa());class n extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${c}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Qt.default=n,Qt}var Ji;function Ba(){if(Ji)return Gt;Ji=1;var e=Gt&&Gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(Hr());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(r??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const c=r.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(r)){const f=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=n,Gt}var Sn={},En={},Gi;function Ff(){return Gi||(Gi=1,Object.defineProperty(En,"__esModule",{value:!0}),En.version=void 0,En.version="0.0.0-automated"),En}var Qi;function Bf(){if(Qi)return Sn;Qi=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.DEFAULT_HEADERS=void 0;const e=Ff();return Sn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Sn}var Yi;function Hf(){if(Yi)return Jt;Yi=1;var e=Jt&&Jt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Jt,"__esModule",{value:!0});const t=e(Ba()),n=e(Hr()),s=Bf();class r{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let g;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{h.searchParams.append(b,k)})):(f="POST",g=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new n.default({method:f,url:h,headers:y,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Jt.default=r,Jt}var Xi;function qf(){if(Xi)return pe;Xi=1;var e=pe&&pe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const t=e(Hf());pe.PostgrestClient=t.default;const n=e(Ba());pe.PostgrestQueryBuilder=n.default;const s=e(Hr());pe.PostgrestFilterBuilder=s.default;const r=e(Fa());pe.PostgrestTransformBuilder=r.default;const i=e(Ma());pe.PostgrestBuilder=i.default;const o=e(Na());return pe.PostgrestError=o.default,pe.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},pe}var Vf=qf();const Kf=jf(Vf),{PostgrestClient:Wf,PostgrestQueryBuilder:mp,PostgrestFilterBuilder:_p,PostgrestTransformBuilder:yp,PostgrestBuilder:bp,PostgrestError:vp}=Kf,zf="2.11.2",Jf={"X-Client-Info":`realtime-js/${zf}`},Gf="1.0.0",Ha=1e4,Qf=1e3;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var pr;(function(e){e.websocket="websocket"})(pr||(pr={}));var Ft;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ft||(Ft={}));class Yf{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+r));o=o+r;const l=s.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class qa{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Zi=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=Xf(o,e,t,r),i),{})},Xf=(e,t,n,s)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=n[e];return i&&!s.includes(i)?Va(i,o):gr(o)},Va=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nd(t,n)}switch(e){case re.bool:return Zf(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return ed(t);case re.json:case re.jsonb:return td(t);case re.timestamp:return sd(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return gr(t);default:return gr(t)}},gr=e=>e,Zf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ed=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},td=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nd=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Va(t,a))}return e},sd=e=>typeof e=="string"?e.replace(" ","T"):e,Ka=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zs{constructor(t,n,s={},r=Ha){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eo||(eo={}));class Dn{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Dn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Dn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const h=u.map(k=>k.presence_ref),g=f.map(k=>k.presence_ref),y=u.filter(k=>g.indexOf(k.presence_ref)<0),b=f.filter(k=>h.indexOf(k.presence_ref)<0);y.length>0&&(a[c]=y),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(t,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(g=>g.presence_ref),h=u.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,r(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var to;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(to||(to={}));var no;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(no||(no={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class qr{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zs(this,We.join,this.params,this.timeout),this.rejoinTimer=new qa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Dn(this),this.broadcastEndpointURL=Ka(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ft.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ft.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(ft.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<g;b++){const k=h[b],{filter:{event:x,schema:I,table:A,filter:C}}=k,M=u&&u[b];if(M&&M.event===x&&M.schema===I&&M.table===A&&M.filter===C)y.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ft.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new zs(this,We.leave,{},t);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new zs(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=We;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var y,b,k;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(b=g.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,b,k,x,I,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const C=g.id,M=(y=g.filter)===null||y===void 0?void 0:y.event;return C&&((b=n.ids)===null||b===void 0?void 0:b.includes(C))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const C=(I=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return C==="*"||C===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:k,commit_timestamp:x,type:I,errors:A}=y;h=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:x,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(y))}g.callback(h,s)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&qr.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Zi(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Zi(t.columns,t.old_record)),n}}const rd=()=>{},id=typeof WebSocket<"u",od=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ad{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jf,this.params={},this.timeout=Ha,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rd,this.conn=null,this.sendBuffer=[],this.serializer=new Yf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${pr.websocket}`,this.httpEndpoint=Ka(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(id){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ld(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gn(async()=>{const{default:t}=await import("./browser-CXDVXmPj.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gf}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Ft.Connecting;case fn.open:return Ft.Open;case fn.closing:return Ft.Closing;default:return Ft.Closed}}isConnected(){return this.connectionState()===Ft.Open}channel(t,n={config:{}}){const s=new qr(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Qf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([od],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class ld{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Vr extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ud extends Vr{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mr extends Vr{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cd=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};const Wa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>_n);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},fd=()=>cd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),_r=e=>{if(Array.isArray(e))return e.map(n=>_r(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=_r(s)}),t};var Kt=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};const Js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dd=(e,t,n)=>Kt(void 0,void 0,void 0,function*(){const s=yield fd();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new ud(Js(r),e.status||500))}).catch(r=>{t(new mr(Js(r),r))}):t(new mr(Js(e),e))}),hd=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Jn(e,t,n,s,r,i){return Kt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,hd(t,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dd(l,a,s))})})}function ms(e,t,n,s){return Kt(this,void 0,void 0,function*(){return Jn(e,"GET",t,n,s)})}function Ct(e,t,n,s,r){return Kt(this,void 0,void 0,function*(){return Jn(e,"POST",t,s,r,n)})}function pd(e,t,n,s,r){return Kt(this,void 0,void 0,function*(){return Jn(e,"PUT",t,s,r,n)})}function gd(e,t,n,s){return Kt(this,void 0,void 0,function*(){return Jn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function za(e,t,n,s,r){return Kt(this,void 0,void 0,function*(){return Jn(e,"DELETE",t,s,r,n)})}var xe=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};const md={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},so={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _d{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Wa(r)}uploadOrUpdate(t,n,s,r){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},so),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,n,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:so.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Vr("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}update(t,n,s){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return xe(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}copy(t,n,s){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Ct(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return xe(this,void 0,void 0,function*(){try{const r=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}download(t,n){return xe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ms(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield ms(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_r(s),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}exists(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gd(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ge(s)&&s instanceof mr){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}list(t,n,s){return xe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},md),n),{prefix:t||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yd="2.7.1",bd={"X-Client-Info":`storage-js/${yd}`};var Zt=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};class vd{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},bd),n),this.fetch=Wa(s)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}}class wd extends vd{constructor(t,n={},s){super(t,n,s)}from(t){return new _d(this.url,this.headers,t,this.fetch)}}const Sd="2.48.1";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const Ed={"X-Client-Info":`supabase-js-${Tn}/${Sd}`},kd={headers:Ed},Rd={schema:"public"},Td={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pd={};var Cd=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};const Od=e=>{let t;return e?t=e:typeof fetch>"u"?t=Da:t=fetch,(...n)=>t(...n)},xd=()=>typeof Headers>"u"?Ua:Headers,Ad=(e,t,n)=>{const s=Od(n),r=xd();return(i,o)=>Cd(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var $d=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};function jd(e){return e.replace(/\/$/,"")}function Id(e,t){const{db:n,auth:s,realtime:r,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),i),accessToken:()=>$d(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Ja="2.67.3",Ld="http://localhost:9999",Dd="supabase.auth.token",Ud={"X-Client-Info":`gotrue-js/${Ja}`},ro=10,yr="X-Supabase-Api-Version",Ga={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Nd(e){return Math.round(Date.now()/1e3)+e}function Md(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const st=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},Un=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function Fd(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const Qa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>_n);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},Bd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ya=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},es=async(e,t)=>{await e.removeItem(t)};function Hd(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,r,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),s=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(s),l!=64&&r!=0&&(n=n+String.fromCharCode(r)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class $s{constructor(){this.promise=new $s.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$s.promiseConstructor=Promise;function io(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(Hd(s))}async function qd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Vd(e,t){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Kd(e){return("0"+e.toString(16)).substr(-2)}function Wd(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Kd).join("")}async function zd(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Jd(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gd(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zd(e);return Jd(n)}async function en(e,t,n=!1){const s=Wd();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Ya(e,`${t}-code-verifier`,r);const i=await Gd(s);return[i,s===i?"plain":"s256"]}const Qd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yd(e){const t=e.headers.get(yr);if(!t||!t.match(Qd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Kr extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xd extends Kr{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Zd(e){return q(e)&&e.name==="AuthApiError"}class Xa extends Kr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wt extends Kr{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class Et extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eh(e){return q(e)&&e.name==="AuthSessionMissingError"}class Gs extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ts extends Wt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ns extends Wt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function th(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class oo extends Wt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class br extends Wt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Qs(e){return q(e)&&e.name==="AuthRetryableFetchError"}class ao extends Wt{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var nh=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const Mt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sh=[502,503,504];async function lo(e){var t;if(!Bd(e))throw new br(Mt(e),0);if(sh.includes(e.status))throw new br(Mt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xa(Mt(i),i)}let s;const r=Yd(e);if(r&&r.getTime()>=Ga["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new ao(Mt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ao(Mt(n),e.status,n.weak_password.reasons);throw new Xd(Mt(n),e.status||500,s)}const rh=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function V(e,t,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[yr]||(i[yr]=Ga["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ih(e,t,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function ih(e,t,n,s,r,i){const o=rh(t,s,r,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new br(Mt(l),0)}if(a.ok||await lo(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await lo(l)}}function kt(e){var t;let n=null;uh(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Nd(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function uo(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ot(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oh(e){return{data:e,error:null}}function ah(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=e,o=nh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lh(e){return e}function uh(e){return e.access_token&&e.refresh_token&&e.expires_in}var ch=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class fh{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Qa(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ot})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=ch(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ah,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ot})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:lh});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);c[`${k}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ot})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ot})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ot})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const dh={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function co(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function hh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tn={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Za extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ph extends Za{}async function gh(e,t,n){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ph(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hh();const mh={url:Ld,storageKey:Dd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ud,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},kn=30*1e3,fo=3;async function ho(e,t,n){return await n()}class Kn{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kn.nextInstanceID,Kn.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},mh),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new fh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Qa(r.fetch),this.lock=r.lock||ho,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:st()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gh:this.lock=ho,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Un()?this.storage=dh:(this.memoryStorage={},this.storage=co(this.memoryStorage)):(this.memoryStorage={},this.storage=co(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ja}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Fd(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),st()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),th(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Xa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:kt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,r;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await en(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:kt})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else throw new ts("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uo})}else throw new ts("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Gs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:kt});if(await es(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await en(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ts("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await en(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:oh})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Et;const{error:r}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:r,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ts("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ot}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(n){if(q(n))return eh(n)&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Et;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await en(this.storage,this.storageKey));const{data:c,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ot});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return io(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;const n=Date.now()/1e3;let s=n,r=!0,i=null;const o=io(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Et;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!st())throw new ns("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ns(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ns("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oo("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ns("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const g=h-u;g*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:b,error:k}=await this._getUser(i);if(k)throw k;const x={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Zd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Md(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await en(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return st()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(q(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Vd(async r=>(r>0&&await qd(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Qs(i)&&Date.now()+o-s<kn})}catch(s){if(this._debug(n,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),st()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<r+ro;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ro}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Qs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new $s;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),q(i)){const o={session:null,error:i};return Qs(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ya(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await es(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${kn}ms, refresh threshold is ${fo} ticks`),r<=fo&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Za)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await en(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Kn.nextInstanceID=0;const _h=Kn;class yh extends _h{constructor(t){super(t)}}var bh=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(f){o(f)}}function l(u){try{c(s.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})};class vh{constructor(t,n,s){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=jd(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Rd,realtime:Pd,auth:Object.assign(Object.assign({},Td),{storageKey:l}),global:kd},u=Id(s??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ad(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Wf(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new $f(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wd(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return bh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yh({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ad(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wh=(e,t,n)=>new vh(e,t,n),Sh="https://mytblvsmcftktqbnaikc.supabase.co",Eh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15dGJsdnNtY2Z0a3RxYm5haWtjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4NDEwNTcsImV4cCI6MjA1NDQxNzA1N30.6MdzWoj65LwRXI4CmYd8E5-W3dNnAi7_4QboAvOyPnc",me=wh(Sh,Eh);function el(){const e=La(),t=ie(""),n=a=>{a&&localStorage.setItem("supabase_session",JSON.stringify(a))};return{login:async(a,l)=>{t.value="";const{data:c,error:u}=await me.auth.signInWithPassword({email:a,password:l});if(u){t.value=u.message;return}c.session&&(n(c.session),e.push("/round-list"))},signUp:async(a,l)=>{t.value="";const{error:c}=await me.auth.signUp({email:a,password:l});if(c){t.value=c.message;return}e.push("/round-list")},autoLogin:async()=>{const a=localStorage.getItem("supabase_session");if(!a)return;if(JSON.parse(a).expires_at*1e3<Date.now()){const{data:u,error:f}=await me.auth.refreshSession();if(f){console.error("Session refresh failed:",f.message),localStorage.removeItem("supabase_session");return}n(u.session)}const{data:c}=await me.auth.getUser();c!=null&&c.user&&e.push("/round-list")},logout:async()=>{await me.auth.signOut(),localStorage.removeItem("supabase_session"),e.push("/")},errorMessage:t}}const kh={class:"form-container"},Rh={key:0},Th=Qe({__name:"UserLogin",setup(e){const{login:t,signUp:n,autoLogin:s,errorMessage:r}=el(),i=ie(""),o=ie("");return Ts(()=>{s()}),(a,l)=>(z(),te(he,null,[l[4]||(l[4]=L("h2",null,"Round Log",-1)),L("div",kh,[cs(L("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>i.value=c),type:"email",placeholder:"メールアドレス"},null,512),[[gs,i.value]]),cs(L("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>o.value=c),type:"password",placeholder:"パスワード"},null,512),[[gs,o.value]]),L("button",{onClick:l[2]||(l[2]=c=>He(t)(i.value,o.value))},"ログイン"),L("button",{onClick:l[3]||(l[3]=c=>He(n)(i.value,o.value))},"アカウント登録"),He(r)?(z(),te("p",Rh,ee(He(r)),1)):ar("",!0)])],64))}}),_t=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Ph=_t(Th,[["__scopeId","data-v-ef7ca157"]]),Ch={class:"container"},Oh=["disabled"],xh=["onClick"],Ah=Qe({__name:"RoundList",setup(e){const t=ie([]),n=ie(""),s=ie(""),r=La(),{logout:i}=el(),o=()=>{const h=new Date,g=h.getFullYear(),y=String(h.getMonth()+1).padStart(2,"0"),b=String(h.getDate()).padStart(2,"0");n.value=`${g}-${y}-${b}`},a=async()=>{try{const{data:h,error:g}=await me.from("golf_shots").select("id, round_date, course_name").order("round_date",{ascending:!1});if(g)throw new Error(g.message);t.value=h}catch(h){h instanceof Error?console.error("データ取得エラー:",h.message):console.error("不明なエラーが発生しました")}};Ts(()=>{o(),a()});const l=_e(()=>{const h=new Set;return t.value.filter(g=>{const y=`${g.round_date}-${g.course_name}`;return h.has(y)?!1:(h.add(y),!0)})}),c=_e(()=>n.value&&s.value.trim()!==""),u=async()=>{if(!c.value){alert("日付とコース名を入力してください");return}r.push(`/round/new/${n.value}/${s.value.trim()}`)},f=async(h,g)=>{try{const{error:y}=await me.from("golf_shots").delete().eq("round_date",h).eq("course_name",g);if(y)throw new Error(y.message);t.value=t.value.filter(b=>!(b.round_date===h&&b.course_name===g))}catch(y){console.error("削除エラー:",y instanceof Error?y.message:"不明なエラー")}};return(h,g)=>{const y=Lr("router-link");return z(),te("div",Ch,[L("div",null,[g[3]||(g[3]=L("h3",null,"--新しいラウンドを作る--",-1)),g[4]||(g[4]=L("label",{for:"roundDate"},"日付:",-1)),cs(L("input",{type:"date","onUpdate:modelValue":g[0]||(g[0]=b=>n.value=b),id:"roundDate"},null,512),[[gs,n.value]])]),L("div",null,[g[5]||(g[5]=L("label",{for:"courseName"},"コース名:",-1)),cs(L("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=b=>s.value=b),id:"courseName"},null,512),[[gs,s.value]])]),L("div",null,[L("button",{class:gt(["enabled-button",{"disabled-button":!c.value}]),onClick:u,disabled:!c.value}," ラウンド作成 ",10,Oh)]),g[6]||(g[6]=L("p",null,null,-1)),g[7]||(g[7]=L("h3",null,"--過去のラウンドを見る--",-1)),L("ul",null,[(z(!0),te(he,null,pt(l.value,b=>(z(),te("li",{key:`${b.round_date}-${b.course_name}`},[ue(y,{to:`/round/${b.id}/${b.round_date}/${b.course_name}`},{default:jr(()=>[Ur(ee(b.round_date)+" - "+ee(b.course_name),1)]),_:2},1032,["to"]),L("button",{class:"enabled-button",onClick:k=>f(b.round_date,b.course_name)}," 削除 ",8,xh)]))),128))]),L("footer",null,[L("button",{onClick:g[2]||(g[2]=(...b)=>He(i)&&He(i)(...b))},"ログアウト")])])}}}),$h=_t(Ah,[["__scopeId","data-v-bb096dd7"]]),jh={class:"button-group"},Ih=["onClick"],Lh=Qe({__name:"ClubSelector",props:{clubs:{type:Array,required:!0},selectedClub:{type:String,required:!0},selectClub:{type:Function,required:!0}},setup(e){return(t,n)=>(z(),te("div",jh,[(z(!0),te(he,null,pt(e.clubs,s=>(z(),te("button",{key:s,class:gt({selected:e.selectedClub===s}),onClick:r=>e.selectClub(s)},ee(s),11,Ih))),128))]))}}),Dh=_t(Lh,[["__scopeId","data-v-07864beb"]]),Uh={class:"hole-selector"},Nh=["disabled"],Mh=["disabled"],Fh=Qe({__name:"HoleSelector",props:{holeNumber:{},min:{},max:{},disabled:{type:Boolean}},emits:["update:holeNumber"],setup(e,{emit:t}){const n=e,s=t,r=ie(n.holeNumber);$n(()=>n.holeNumber,a=>{r.value=a});const i=()=>{r.value>n.min?r.value-=1:r.value=n.max,s("update:holeNumber",r.value)},o=()=>{r.value<n.max?r.value+=1:r.value=n.min,s("update:holeNumber",r.value)};return(a,l)=>(z(),te("div",Uh,[L("button",{disabled:a.disabled,onClick:i},"◀ Prev H",8,Nh),L("h3",null,ee(r.value)+"H",1),L("button",{disabled:a.disabled,onClick:o},"Next H ▶",8,Mh)]))}}),Bh=_t(Fh,[["__scopeId","data-v-0012ca82"]]),Hh={class:"button-group"},qh=["onClick"],Vh=Qe({__name:"ConditionSelector",props:{filteredConditions:{type:Array,required:!0},selectedConditions:{type:Array,required:!0},conditionsList:{type:Array,required:!0}},emits:["update:selectedConditions"],setup(e,{emit:t}){const n=e,s=t,r=i=>{var l;let o=[...n.selectedConditions];const a=(l=n.conditionsList.find(c=>c.name===i))==null?void 0:l.groupId;o.includes(i)?o=o.filter(c=>c!==i):(a&&(o=o.filter(c=>{var f;return((f=n.conditionsList.find(h=>h.name===c))==null?void 0:f.groupId)!==a})),o.push(i)),s("update:selectedConditions",o)};return(i,o)=>(z(),te("div",Hh,[(z(!0),te(he,null,pt(e.filteredConditions,a=>(z(),te("button",{key:a,class:gt({selected:e.selectedConditions.includes(a)}),onClick:l=>r(a)},ee(a),11,qh))),128))]))}}),Kh=_t(Vh,[["__scopeId","data-v-041eedf2"]]),Wh={class:"button-group"},zh=["onClick"],Jh=Qe({__name:"ResultSelector",props:{resultList:{type:Array,required:!0},selectedResult:{type:String,required:!0},selectResult:{type:Function,required:!0}},setup(e){return(t,n)=>(z(),te("div",Wh,[(z(!0),te(he,null,pt(e.resultList,s=>(z(),te("button",{key:s,class:gt({selected:e.selectedResult===s}),onClick:r=>e.selectResult(s)},ee(s),11,zh))),128))]))}}),Gh=_t(Jh,[["__scopeId","data-v-d0c577cc"]]),Qh={class:"button-group"},Yh=["onClick"],Xh=Qe({__name:"DetailResultSelector",props:{detailResultList:{type:Array,required:!0},selectedDetailResult:{type:String,required:!1},selectDetailResult:{type:Function,required:!0}},setup(e){const t=e;function n(s){t.selectedDetailResult===s?t.selectDetailResult(""):t.selectDetailResult(s)}return(s,r)=>(z(),te("div",Qh,[(z(!0),te(he,null,pt(e.detailResultList,i=>(z(),te("button",{key:i,class:gt({selected:e.selectedDetailResult===i}),onClick:o=>n(i)},ee(i),11,Yh))),128))]))}}),Zh=_t(Xh,[["__scopeId","data-v-5ed4dfee"]]),ep=["onClick"],tp=["onClick"],np=Qe({__name:"ShotHistory",props:{scores:{}},emits:["edit-shot","delete-shot"],setup(e,{emit:t}){const n=e,s=t,r=o=>{s("edit-shot",o)},i=o=>{s("delete-shot",o)};return(o,a)=>(z(!0),te(he,null,pt(n.scores,(l,c)=>(z(),te("div",{key:c},[L("p",null,ee(c)+"H",1),L("ul",null,[(z(!0),te(he,null,pt(l,u=>(z(),te("li",{key:u.shot_number},[L("span",null,ee(u.shot_number)+"打目 - "+ee(u.club)+" - "+ee(u.result)+" - "+ee(u.detailResult||"なし")+" - ("+ee(u.conditions.join(", ")||"なし")+")",1),L("button",{onClick:f=>r(u)},"編集",8,ep),L("button",{onClick:f=>i(u)},"削除",8,tp)]))),128))])]))),128))}}),sp={class:"container"},rp={class:"score-input"},ip={key:0,class:"error-message"},op={key:1,class:"success-message"},ap={class:"button-column"},lp=["onClick"],up=["onClick"],cp=Qe({__name:"RoundDetail",setup(e){const t=kf(),n=Array.isArray(t.params.roundDate)?t.params.roundDate[0]:t.params.roundDate,s=Array.isArray(t.params.courseName)?t.params.courseName[0]:t.params.courseName,r=ie(""),i=ie([]),o=ie([]),a=ie(1),l=ie(""),c=ie(""),u=ie([]),f=ie({}),h=ie(!1),g=ie(!1),y=ie(null),b=ie(null),k=ie(""),x=ie("");Ts(async()=>{const{data:d}=await me.auth.getUser();if(!d||!d.user){ye("ユーザー情報が取得できません");return}r.value=d.user.id;try{await I()}catch(m){ye(`データの取得に失敗しました: ${m.message}`)}});const I=async()=>{await Promise.all([Fe(),Xe(),M(),yt(),J()])},A=d=>{a.value=d},C=async()=>{g.value=!1,g.value=!0,h.value?O():S()},M=async()=>{const{data:d,error:m}=await me.from("golf_shots").select("*").match({round_date:n,course_name:s});if(m){ye(`データの取得に失敗しました: ${m.message}`);return}d.length>0?de(d):f.value={}},de=d=>{const m={};d.forEach(_=>{m[_.hole_number]||(m[_.hole_number]=[]),m[_.hole_number].push({user_id:r.value,round_date:n,course_name:s,hole_number:_.hole_number,shot_number:_.shot_number,club:_.club,result:_.result,detailResult:_.detailResult,conditions:_.conditions})}),f.value=m},ae=async d=>{const{error:m}=await me.from("golf_shots").insert([{user_id:r.value,round_date:n,course_name:s,hole_number:d.hole_number,shot_number:d.shot_number,club:d.club,result:d.result,detailResult:d.detailResult,conditions:d.conditions}]);return m?(ye(`保存に失敗しました: ${m.message}`),!1):!0},ye=d=>{k.value=d},Ye=async(d,m)=>{const{error:_}=await me.from("golf_shots").delete().match({round_date:n,hole_number:d,shot_number:m});return _?(ye(`保存に失敗しました: ${_.message}`),!1):!0},Me=async d=>{const{data:m,error:_}=await me.from("golf_shots").select("id, shot_number").eq("hole_number",d).order("shot_number",{ascending:!0});if(_)throw _;if(!m||m.length===0){console.log("該当レコードなし");return}for(let v=0;v<m.length;v++){const{error:w}=await me.from("golf_shots").update({shot_number:v+1}).eq("id",m[v].id);if(w)throw w}},Ke=ie([]),be=ie(""),Fe=async()=>{const{data:d,error:m}=await me.from("golf_clubs").select("name");m||(Ke.value=d.map(_=>_.name))},It=d=>{be.value=d},yt=async()=>{const{data:d,error:m}=await me.from("resultList").select("name");m||(i.value=d.map(_=>_.name))},ce=d=>{l.value=d},J=async()=>{const{data:d,error:m}=await me.from("detailResultList").select("name");m||(o.value=d.map(_=>_.name))},W=d=>{c.value=d},Ae=ie([]),Xe=async()=>{const{data:d,error:m}=await me.from("conditionsList").select("name, groupId");m||(Ae.value=d.map(_=>({name:_.name,groupId:_.groupId})))},Be=_e(()=>be.value==="PT"?["ショートパッド","ミドルパッド","ロングパッド"]:wt.value===1?["池越え","谷越え","ブラインド","打ち上げ","打ち下ろし"]:Ae.value.filter(d=>!["ショートパッド","ミドルパッド","ロングパッド"].includes(d.name)).map(d=>d.name)),ve=_e(()=>Object.values(f.value).reduce((d,m)=>d+m.length,0)),bt=_e(()=>Object.values(f.value).flat().filter(d=>d.club==="PT").length),vt=_e(()=>Object.values(f.value).flat().filter(d=>d.conditions.includes("バンカー")).length),wt=_e(()=>{var d;return h.value?b.value??0:(((d=f.value[a.value])==null?void 0:d.length)||0)+1}),Te=()=>be.value?l.value?(k.value="",!0):(k.value="結果を選択してください。",!1):(k.value="クラブを選択してください。",!1),S=async()=>{if(!Te())return;const d={user_id:r.value,round_date:n,course_name:s,hole_number:a.value,shot_number:wt.value,club:be.value,result:l.value,detailResult:c.value,conditions:[...u.value]};await ae(d)&&(f.value[a.value]||(f.value[a.value]=[]),f.value[a.value].push(d),G())},$=d=>{console.log(d),a.value=d.hole_number,be.value=d.club,l.value=d.result,c.value=d.detailResult,u.value=[...d.conditions],h.value=!0,y.value=d.hole_number,b.value=d.shot_number},O=async()=>{if(Te()&&y.value!==null&&b.value!==null){const d=b.value;console.log(d);const{error:m}=await me.from("golf_shots").update({club:be.value,result:l.value,detailResult:c.value,conditions:u.value}).match({hole_number:y.value,shot_number:d});m?ye(`更新に失敗しました: ${m.message}`):(D(),G(),M())}},D=()=>{h.value=!1,y.value=null,b.value=null},G=()=>{be.value="",l.value="",c.value="",u.value=[]},p=async d=>{if(await Ye(d.hole_number,d.shot_number)){if(f.value[d.hole_number].splice(d.shot_number,1),f.value[d.hole_number].length===0){delete f.value[d.hole_number];return}await Me(d.hole_number),M()}};return(d,m)=>{const _=Lr("router-link");return z(),te("div",sp,[m[10]||(m[10]=L("h2",{class:"animate__animated animate__fadeIn"},"Round Log",-1)),ue(_,{to:"/round-list"},{default:jr(()=>m[2]||(m[2]=[Ur("戻る")])),_:1}),L("div",rp,[ue(Bh,{holeNumber:Number(a.value),min:1,max:18,disabled:h.value,"onUpdate:holeNumber":A},null,8,["holeNumber","disabled"]),L("h2",null,ee(wt.value)+"打目",1),m[3]||(m[3]=L("label",null,"クラブ: ",-1)),ue(Dh,{clubs:Ke.value,selectedClub:be.value,selectClub:It},null,8,["clubs","selectedClub"]),m[4]||(m[4]=L("label",null,"結果: ",-1)),ue(Gh,{resultList:i.value,selectedResult:l.value,selectResult:ce},null,8,["resultList","selectedResult"]),m[5]||(m[5]=L("label",null,"結果の詳細: ",-1)),ue(Zh,{detailResultList:o.value,selectedDetailResult:c.value,selectDetailResult:W},null,8,["detailResultList","selectedDetailResult"]),m[6]||(m[6]=L("label",null,"状況: ",-1)),ue(Kh,{filteredConditions:Be.value,selectedConditions:u.value,conditionsList:Ae.value,"onUpdate:selectedConditions":m[0]||(m[0]=v=>u.value=v)},null,8,["filteredConditions","selectedConditions","conditionsList"]),L("button",{class:"add-edit-btn",onClick:C},ee(h.value?"更新":"追加"),1),k.value?(z(),te("p",ip,ee(k.value),1)):ar("",!0),x.value?(z(),te("p",op,ee(x.value),1)):ar("",!0)]),L("h3",{class:gt(["animationClass",{"animate__animated animate__bounce":g.value}]),onAnimationend:m[1]||(m[1]=v=>g.value=!1)}," トータルスコア: "+ee(ve.value),35),L("h4",null,"パット数: "+ee(bt.value),1),L("h4",null,"バンカーショット数: "+ee(vt.value),1),L("table",null,[m[9]||(m[9]=L("thead",null,[L("tr",null,[L("th",{class:"small-text"},"ホール"),L("th",{class:"small-text"},"打数"),L("th",{class:"small-text"},"詳細")])],-1)),L("tbody",null,[(z(!0),te(he,null,pt(f.value,(v,w)=>(z(),te("tr",{key:w},[L("td",null,ee(w),1),L("td",null,ee(v.length),1),L("td",null,[L("ul",null,[(z(!0),te(he,null,pt(v.sort((R,T)=>R.shot_number-T.shot_number),(R,T)=>(z(),te("li",{key:T,class:"shot-details"},[L("span",null,ee(R.shot_number)+"打目: "+ee(R.club)+" - "+ee(R.result),1),m[7]||(m[7]=L("br",null,null,-1)),L("small",null,"結果詳細: "+ee(R.detailResult),1),L("small",null,"状況: "+ee(R.conditions.join(", ")||"なし"),1),m[8]||(m[8]=L("br",null,null,-1)),L("div",ap,[L("button",{class:"shot-details-edit-btn",onClick:P=>$(R)},"変更",8,lp),L("button",{class:"shot-details-delete-btn",onClick:P=>p(R)},"削除",8,up)])]))),128))])])]))),128))])]),ue(np,{scores:f.value,onEditShot:$,onDeleteShot:p},null,8,["scores"])])}}}),fp=_t(cp,[["__scopeId","data-v-8df523e2"]]),dp=Sf({history:Qc(),routes:[{path:"/",name:"UserLogin",component:Ph},{path:"/round-list",name:"RoundList",component:$h,meta:{requiresAuth:!0}},{path:"/round/:id/:roundDate/:courseName",name:"RoundDetail",component:fp},{path:"/:catchAll(.*)*",name:"notFound",redirect:"/"}]}),hp={};function pp(e,t){const n=Lr("RouterView");return z(),_a(n)}const gp=_t(hp,[["render",pp]]),Wr=pc(gp);Wr.use(dp);Wr.use(yc());Wr.mount("#app");export{jf as g};
